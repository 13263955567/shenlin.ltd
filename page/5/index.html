<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="A Programmer&apos;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="shenlin&#39;s blog">
<meta property="og:url" content="http://www.shenlin.ltd/page/5/index.html">
<meta property="og:site_name" content="shenlin&#39;s blog">
<meta property="og:description" content="A Programmer&apos;s Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="shenlin&#39;s blog">
<meta name="twitter:description" content="A Programmer&apos;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.shenlin.ltd/page/5/"/>





  <title>shenlin's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">shenlin's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">what the fuck?!</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 进程管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Linux - 进程管理/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="��٣�"><a href="#��٣�" class="headerlink" title="��٣�"></a>��٣�</h2><p>���̵ĸ���<br>���̹�������<br>�ƻ�����</p>
<p>���̵ĸ���————————————————————————————————</p>
<p>�����̺ͳ��������</p>
<pre><code>�����Ǿ�̬���������Ϊһ�������Դ���ڴ��ڣ��������ǳ����ִ�й��̣����Ƕ�̬�����һ���������ڣ��Ƕ�̬�����������ġ�

����ͽ�����һһ��Ӧ��ϵ��һ����������ɶ�����̹��ã���һ���棬һ�������ڻ��Ҳ��˳���ִ����ɸ�������ʹ������ָ��;�ֿ�����ɸ����
</code></pre><p>�����������ӽ��̡�</p>
<pre><code>������PID��Process ID����ʾ��������ʹ��PPID��ʾ��Parent Process ID��

�ӽ������ɽ����������Ľ��̣��������̵Ľ��̳�Ϊ�����̣��������Ľ��̳�Ϊ�ӽ��̡�

��������ֹ�ӽ�����Ȼ��ֹ�� �ӽ�����������ܳ�Ϊ�¶����̻�ʬ���̣�

    �������ֹ�����ӽ���������ԭ��û����ֹ�����ӽ��̱���Ϊ�¶����̣�linux��⵽�¶����̺󣬻Ὣ�¶����̵ĸ�����ָ��init���̣�

    ���ӽ��̱���ֹ�󣬸�����û�˽⵽����Ϣ�������Ժ��ӽ���ȡ����ϵ������ӽ��̳�Ϊ��ʬ���̣�linux����Z��Zombie����ʾ��

linuxϵͳ�У�ʹ��ϵͳ����fork�������̡�fork���Ƶ����ݰ��������̵����ݺͶ�ջ���Լ������̵Ľ��̻�����
</code></pre><p>��ǰ̨�������̨���̡�</p>
<pre><code>ǰ̨���̣�

    ��Shell��ʾ������������س����򴴽���һ���ӽ��������д������Shell���̽��ȴ���������˳���������������֮ǰ������û�����Shell��ʾ������ʱ������������У���Shell�����ڵȴ���������̺�Shell���̲���ͬʱ���У������첽���У�����ǰ̨���С�

��̨���̣�

    ��Shell��ʾ�����������������������һ����ִ̨�з�&amp;��Ȼ��س����򴴽���һ���ӽ��������д������Shell���̲��ȴ���������˳���ֱ�ӷ��ص����û�����Shell��ʾ������ʱ������������У���Shell����Ҳ�����У�������̺�Shell������ͬ�����У����ں�̨���С�

��̨���̱����Ƿǽ���ʽ�ġ�
</code></pre><p>������״̬��</p>
<pre><code>����״̬��

    �����Ѿ����䵽��Դ������Ϊ����������ռ��CPU��������ʱ�������ж��ȴ�����CPU��״̬��

�ȴ�״̬��

    ��ȴ�ĳ���¼�����ʱ�������е�״̬��

����״̬��

    ���̷��䵽CPU�����ڴ����������С�
</code></pre><p>������״̬ϸ����</p>
<pre><code>�û�̬���У���CPU��ִ���û�����
����̬���У���CPU��ִ�к��Ĵ���

���ڴ�������߱�����������ֻ�ȵ��ȳ���Ϊ������CPU
���ڴ�˯�ߣ���ȴ�ĳһ�¼��ķ����������ڴ����Ŷӵȴ�

�����������������̱�����������ϼ������ھ���״̬
�����˯�ߣ�˯�߽��̱�����������ϼ����ȴ�

���ڴ���ͣ�������stop��������������ͣ״̬���ȴ��丸���̷�������
�������ͣ�����ڸ�����̬ͣ�Ľ��̱������������

����̬���½������ڱ�����������δ��ϵ��м�״̬
��ֹ̬��������ֹ�Լ�
</code></pre><p>���̹�������————————————————————————————————</p>
<p>���鿴�û���¼��Ϣ��who���w���</p>
<pre><code>who

w           �鿴�����û��ĵ�¼��Ϣ
w �û�A     �鿴�û�A�ĵ�¼��Ϣ

�����

    10:31:03 up 4 min, 2 users, load average: 0.54,0.52,0.24

    USER    TTY     FROM        LOGIN@      IDLE        JCPU        PCPU        WHAT
    --------------------------------------------------------------------------------
    ssl     tty1    -           10:30       9.00s       0.07s       0.07s       -bash
    samlee  pts/0   192.168.9.2 11:10       0.00s       0.10s       0.13s       sshd:sam

���ͣ�

    load average���ֱ���ʾϵͳ�ڹ�ȥ1����5��15�����ڵ�ƽ�����س̶ȡ�forkը��???

    TTY����¼�ն�

    FROM����ʾ�û��Ӻδ���¼ϵͳ������ǡ�:0���������û���X Windows�£����ı�ģʽ���ڵ�¼�ġ�

    LOGIN@��

    IDLE���û�������ʱ�䣬һ���û�ִ���κβ�������ʱ�佫�����á����������ִ������Ҳ�����á�

    JCPU�����ն˴��������֣����ն�������صĽ���ִ��ʱ�������ĵ�CPUʱ�����ʾ�����

    PCPU��CPUִ�г���ķѵ�ʱ�䡣

    WHAT���û�����ִ�еĲ�����
</code></pre><p>�����̲鿴����ps – process status��</p>
<pre><code>ps Ϊ�����ṩ�˽��̵�һ���ԵĲ鿴�������ṩ�Ĳ鿴���������̬�����ģ������Խ���ʱ���أ�Ӧ���� top ���ߡ�

-a����ʾ�����û��Ľ���

-u����ʾ�û�������ʱ��

-x����ʾû�п����ն˵Ľ���

-e����ʾ���н��̣�����û�п����ն˵Ľ���

-l������ʽ��ʾ

-w��������ʾ������ʹ�ö��w���мӿ���ʾ


--------------------------------
ps -l �����ʽ��
--------------------------------

F   S   UID     PID     PPID    C       PRI     NI      ADDR        SZ      WCHAN       TTY     TIME        CMD
----------------------------------------------------------------------------------------------------------------
4   S   0       3526    3508    0       78      0       -           733     wait        pts/0   00:00:00    su

���ͣ�

    PID�����̺�

    PPID�������̵Ľ��̺�

    TTY����������ն�

    S����ʾSTAT�����̵�ǰ״̬��

            S Sleeping      ����״̬  

            D Drop Sleep    �����жϵ�����״̬ 

            R Running       ����״̬ 

            Z Zombie        ����״̬ 

            T sToped        ֹͣ״̬

    NI���������ȼ�

    TIME������������������CPU����ʱ��

    COMMAND/CMD�����̵�������

    USER���û���

    %CPU��ռ��CPUʱ�����ʱ��İٷֱ�

    %MEM��ռ���ڴ���ϵͳ�ڴ������İٷֱ�

--------------------------------
ps u �����ʽ��
--------------------------------

USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND

��ʽ˵����

    USER: �г�ӵ����

    PID: pid

    %CPU: ռ�õ� CPU ʹ����

    %MEM: ռ�õļ�����ʹ����

    VSZ: ռ�õ�����������С

    RSS: ռ�õļ������С

    TTY: �ն˵Ĵ�Ҫװ�ú��� (minor device number of tty)

    STAT: ���г̵�״̬��linux�Ľ�����5��״̬��

    D �����ж� uninterruptible sleep (usually IO)

    R ���� runnable (on run queue)

    S �ж� sleeping

    T ֹͣ traced or stopped

    Z ���� a defunct (��zombie��) process

    ע: ����״̬������W(��פ��ҳ), &lt;(�����ȼ�����), N(�����ȼ�����), L(�ڴ���ҳ).

    START: �г̿�ʼʱ��

    TIME: ִ�е�ʱ��

    COMMAND:��ִ�е�ָ��

--------------------------------

���ֱ����ps�������ʾ���н��̵�״̬��ͨ�����grep����鿴ĳ���̵�״̬��

ps���������÷���

    �鿴�����û���ִ�н��̵���ϸ��Ϣ

        ps -le �� ps -aux

    �鿴ָ�����̵���Ϣ����Ϲܵ���grepʹ�ã�

        ps -aux | grep httpd
        ps -le | grep httpd

    �鿴ָ���û��Ľ�����Ϣ��

        ps -uU ssl
        ps -aux | grep ssl

    �����̵�PID�Խ��̽������򣬻��ɰ�UID��ִ��ʱ�������

        ps -aux --sort pid
</code></pre><p>���鿴������pstree��</p>
<pre><code>pstree

    �������г����н���
</code></pre><p>��ɱ������Kill��</p>
<pre><code>ΪʲôҪɱ�����̣�

    �ý���ռ���˹����CPUʱ��

    �ý�����ס��һ���նˣ�ʹ����ǰ̨�����޷�����

    ����ʱ���������û��Ԥ��Ч��

    �����˹��ൽ��Ļ������ļ������

    �޷������˳�

�رս��̣�

    kill ���̺�

kill�źţ�

    kill -l �г������źţ����õ���1��9

    kill -1 ���̺�      �������

    kill -9 ���̺�      ǿ�йر�

�ر�ͼ�ν��̣�

    xkill

�ر����н��̰����ƣ�

    killall httpd

���ҷ�����̺ţ�

    pgrep ��������

�رշ�����̣�

    pkill ��������

/proc��

    /procĿ¼����������������Ŀ¼���ǽ��̵�PID��
</code></pre><p>���趨���̵����ȼ�nice��renice��</p>
<pre><code>���ȼ�ȡֵ��ΧΪ��-20��19��ֵԽС�����ȼ�Խ��

ָ��������������ȼ���

    nice -n ������

        nice --5 httpd  ��httpd���ȼ���Ϊ-5

�ı�һ���������еĽ��̵����ȼ�

    renice n pid

        renice -5 679
</code></pre><p>���˳���¼���Լ���ִ��nohup���</p>
<pre><code>ʹ�������û��˳���¼���Լ���ִ�У���û������ض���ȷ�ʽָ������Ĵ洢λ�ã�nohup���ִ�к��������Ϣ�ʹ�����ϢĬ�ϴ洢���ļ�nohup.out��

nohup ���� &amp; 
</code></pre><p>�����̵Ĺ���ͻָ���</p>
<pre><code>����/��ֹ���̣�Ctrl+Z

��ֹ��Ctrl+C

�ָ����̵�ǰ̨�������У�fg

    fg 1

        1��ʹ��jobs������ı��

�ָ����̵���̨�������У�bg

�鿴������Ľ��̣�jobs
</code></pre><p>������״̬��ʾ�ͽ��̿��ơ�</p>
<pre><code>top

    �ڲ���ݼ���

        d   ָ��ˢ�µ�ʱ����Ĭ��Ϊ5�����Զ�ˢ��һ��

        c   ��ʾ���������ж���������ʾ������

        u   �鿴ָ���û��Ľ���

        k   ��ִֹ���еĽ���

        h/? ��ð���

        r   �������ý������ȼ�

        s   �ı�ˢ�µ�ʱ����

        W   ����ǰ����д��~/.toprc�ļ���
</code></pre><p>�����̴���ʽ��</p>
<pre><code>standalone  ��������

    ������󣬻�һֱ��ϵͳפ��ռ��ϵͳ��Դ���ȴ���Ӧ����

    ��Ӧ�ٶȿ쵫��ռ����Դ

xinetd      �����й�

    �ǻ����������ػ�����inetd�������棬/etc/xinetd.dĿ¼�µľ����йܵķ���

    xinetd��������˿������пͻ�������ʱ��xinetd���Ӧ�ķ�����Ӧ�����������������ֹ���� 

    ռ����Դ���ٵ���Ӧ�ٶ���

atd��crond  �ƻ�����

    ÿ��һ���Ӵ�����������һ�Σ��鿴�б����Ƿ���Ҫִ�еļƻ�������˼ƻ������ܾ�ȷ����


�д������ʣ���Ҫ����Ӧ���ѡ��standalone��ʽ����webserver Apache
</code></pre><p>�ƻ�����————————————————————————————————</p>
<p>��һ���Լƻ�����at��batch��</p>
<pre><code>at      ������ҵ��ĳһʱ��ִ��һ��

batch   ������ҵ��ϵͳ���ز���ʱִ��һ��
</code></pre><p>�������Լƻ�����cron��</p>
<pre><code>cron    �������������е���ҵ
</code></pre><p>��at��</p>
<pre><code>����һ������������ָ����ʱ������һ��

at���̵���ű���/etc/rc.d/init.d/atd

�����ļƻ�����λ�ڣ�/var/spool/atĿ¼�£�Ҳ����ֱ�ӱ༭��Ŀ¼�¶�Ӧ���ļ����޸ļƻ����������

at ʱ��

    ���뻥��ģʽ������Ҫִ�е����ע��ʹ�þ���·����Ϊ��ֹ�ڿ��滻�����ļ�

    ����������󣬰�Ctrl+d����

at -f �ļ��� ʱ��

    ִ��ָ���ļ��е���������

at -d ���� atrm     ɾ�������е�����

at -l ���� atq      �鿴�����е�����

    3   2014-03-20 17:22 a ssl
    2   2014-03-20 21:00 a root

    2,3�Ǳ�ţ�atrmɾ��ʱ�����ݴ˱��
    ʱ���Ǽƻ�����Ҫִ�е�ʱ��
    a��ʾ�ƻ������״̬active
    ssl/root��ʾ����Ĵ�����
</code></pre><p>��at����ָ��ʱ��ķ�ʽ��</p>
<pre><code>���Լ�ʱ����

    midnight    noon    teatime������4�㣩

    hh:mm [today]

    hh:mm tomorrow

    hh:mm ����

    hh:mm MM/DD/YY
    hh:mm MMDDYY
    hh:mm DD.MM.YY.

��Լ�ʱ����

    now + n minutes

    now + n hours

    now + days
</code></pre><p>��at�������ļ���</p>
<pre><code>������Щ���û�����ʹ��at����

/etc/at.allow

/etc/at.deny

at.allow�ļ������ȼ�����at.deny

��at.allow�ļ����ڣ������at.deny��ֻ������at.allow�е��û��ſ���ʹ��at����

��at.allow�ļ������ڣ���at.deny�ļ����ڣ���ֻ������at.deny�ļ��е��û�����ʹ��at����

�������ļ��������ڣ���ֻ�г����û�����ʹ��at����

�������ļ��������Ҷ�Ϊ�գ��������û�������ʹ��at����
</code></pre><p>��batch��</p>
<pre><code>����һ������������ϵͳ���ؽ���ʱ����һ�Σ�һ������¸��ؽ���ָƽ�����ؽ���0.8����

ʹ�÷���ͬat
</code></pre><p>��crontab��</p>
<pre><code>cron���̵���ű���/etc/rc.d/init.d/crond

��������cron��������Ҫ��crontab�ļ���λ��/var/spool/cronĿ¼�£����û���������

crontab -l  ��ʾ��ǰ��crontab

        -r  ɾ����ǰ��crontab

        -e  �༭��ǰ��crontab

��ʽ��

    ����    Сʱ    ��    ��    ����    ����/�ű�

    ÿ�����Ϊ�գ��������룬����Ҫָ������*��ʾ�κ�ʱ��

    ÿ�����ָ�����ֵ���ö���,�ָ�Ҳ����ָ������ֵ���ú��-�ָ�

    ����Ӧ��ʹ�þ���·������Ӧ���б�׼���������������ض����ļ�

    �û����������������Ӧ���������Ȩ��

ȡֵ��Χ��

    ����    0~59

    Сʱ    0~23

    ��      1~31

    ��      1~12

    ����    0~6

���ţ�

    ������ҵ��ҵ�����󣬰�֪���ľ����ʱ�����ϣ���֪���Ķ�����*

    ��ÿ���賿4��ִ��A����

        ����    Сʱ    ��    ��    ����    ����/�ű�
        0       4       *     *     *       A

    ��һ�����·ݵ�ÿ���ڶ�������������6��ִ��A����

        ����    Сʱ    ��    ��    ����    ����/�ű�
        0       18       *    1-3     2,5       A

    ÿ��2���ӣ�ʹ��*/2��ʾ
</code></pre><p>��cron�������ļ���</p>
<pre><code>/etc/crontab
/etc/cron.allow
/etc/cron.deny
</code></pre><p>��������</p>
<pre><code>telnet�������Ĵ��䣬�ѱ�ssh����
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 软件包管理-markdown/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Linux - 软件包管理-markdown/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>�����������������</p>
<p> һ��RPM������</p>
<pre><code>RPM��Read hat Package Manage

RPM��???

��������Ƹ�ʽ

    sudo-1.7.2p1-5.e15.i386.rpm

        sudo    �������

        1.7.2p1 �汾��

        5.e15   ���к�,release

        i386    Ӳ��ƽ̨

��װ�����

    rpm -ivh sudo-1.7.2p1-5.e15.i386.rpm

    rpm -i install
        -v ��ϸ��Ϣ
        -h ����
        --excludedocs ����װ������е��ĵ��ļ�
        --prefix=PATH ���������װ����PATHָ����·���£��������RPM��װ���Ѱ����˰�װĿ¼��Ϣ��������ı䰲װĿ¼
        --test      ֻ�԰�װ���в��ԣ�����ʵ�ʰ�װ
        --replacepkgs ������Ѱ�װ�����ǰ�װ
        --replacefiles Ҫ��װ�����������һ���ļ����ڰ�װ���������ʱ����װ�ˣ�����ʾconflicts with file xxx��ʹ�ô�ѡ���滻�ļ�
        --nodeps ��������������������������������ϵǿ�ư�װ�����ܿ�����ȱ��������ϵ�����¿��԰�װ���޷����У�

ж�����

    �����������������ƣ���ж��ʱʹ�õ������������

    rpm -e sudo

        e��ʾerase

    rpm -e --nodeps samba

        ��������������Ҫж�ص������������ϵ��ж��ʱ�������ʾ��Ϣ��ʹ��--nodeps��ǿ��ж�أ�no dependencies��

���������

    rpm
        -Uvh [���������]     Upgrade

У�������

    rpm -V [�����]     V��ʾVerify

    �������װ��ÿһ���ļ���û���������ģ�����ʾ�κ���Ϣ������

    #rpm -V sudo

    #S.5....T   c /etc/sudoers

        5 �ļ���MD5У��ֵ
        S �ļ���С
        L �����ļ�
        T ���������ʱ��
        D �豸�ļ�
        U �ļ����û�
        G �ļ����û���
        M �ļ���Ȩ��

    md5sum����Ϊ�ļ�����MD5ֵ

        md5sum /etc/services

�鿴����Ƿ���

    rpm -q samba
            ��ѯsamba����Ƿ��Ѱ�װ

        -qa ��ѯ�����Ѱ�װ�������

            -qa | grep samba
                ���Һ�samba��ص������Ѱ�װ�����

        -qf [�ļ�·��]  ��ѯ�ļ����������

        -qi [�����]    ��ѯ�Ѱ�װ�����������Ϣ
        -qip [�������] ��ѯ��δ��װ�����������Ϣ,p��ʾpackage

        -ql [�����]    ��ѯ�Ѱ�װ���������ϵͳ�а�װ����Щ���ļ�
        -qlp [�������] ��ѯδ��װ�����������ϵͳ�а�װ��Щ���ļ�

        -qd [�����]    ��ѯ�Ѱ�װ�İ����������ĵ���λ��
        -qdp [�������]    ��ѯδ��װ�İ����������ĵ���λ��

        -qc [�����]    ��ѯ�Ѱ�װ�İ����������ļ���λ��
        -qcp [�������]    ��ѯδ��װ�İ����������ļ���λ��


������ļ���ȡ

    ��ѹ�����ļ�����ǰĿ¼
    rpm2cpio initscripts-8.45.30-2.el5.centeros.i386.rpm | cpio -idv

    ��ѹָ���ļ�����ǰĿ¼
    rpm2cpio initscripts-8.45.30-2.el5.centeros.i386.rpm | cpio -idv ./etc/ininttab
</code></pre><p> ����YUM������</p>
<pre><code>����Yum�ĺô���

    RPM��������ϵ�Ƚ��鷳��yum�Զ�����������������ϵ
    ��������������


YUM������

    yum info [�����]    ��ȡ�����Ϣ
    yum install [�����]
    yum update [�����]
    yum remove [�����]    ж�����

    yum list | grep sudo
    yum list | more       �г�yumԴ�ϵ����������
    yum -C search xxx       �ڱ��ػ����в��������Ϣ

    yum check-update    ���ɸ��µ����
    yum check-update    [�����]

    yum makecache           ����yumԴ���������Ϣ������

    yum -help
    man yum

����YUMԴ

    1������yumԴ����Ŀ¼
        cd /etc/yum.repos.d

    2������ϵͳ�Դ���yumԴ
        mv CentOS-Base.repo CentOS-Base.repo.bk

    3������163���׵�yumԴ��
        wget http://mirrors.163.com/.help/CentOS6-Base-163.repo

    4������yumԴ��ִ���±��������yum���ã�ʹ����������Ч
        yum makecache
</code></pre><p>��Դ�������װ��</p>
<pre><code>Դ������й㷺��������
Դ����������ɰ���Ҫ�޸Ĵ���
�ܶ�֪����������°汾����Դ������������Ƕ����ư�
Դ��������в���ע��ƽ̨���ͣ���i386��alpha��
Դ�����һ��Ϊ.tar.gz��.biz2��ѹ���ļ�
Դ�������������ư���ר�ŵ�ж�����ж��ʱ�����ж�صĺܸɾ�����������Լ�ָ��Դ������İ�װ·��
Դ�������װ�����ж�ط������رս��̣�ɾ���������Ŀ¼

1����ѹ���

    #tar -zxvf proftpd-1.3.3d.tar.gz
    #tar -jxvf proftpd-1.3.3d.tar.bz2
    #cd proftpd-1.3.3d

2�����ã�configure�ǿ�ִ�еĽű��ļ���λ�ڽ�ѹ��Ŀ¼�ִ�к��ռ�ϵͳ��Ϣ������makefile�ļ���Ϊ�����ı���make��׼��

    #./configure --prefix=/usr/local/proftpd

3�����룬��Դ�������Ϊ�������ļ�

    #make

4����װ�����������ļ��������ļ����Ƶ�ָ��Ŀ¼�� 

    #make install

proftpd���ص�ַ��www.proftpd.org
vsfptd
</code></pre><p>��Դ�������ж�ء�</p>
<pre><code>�ر�����Ľ���

    kill `pgrep proftpd`;

�������Ŀ¼ɾ��

    rm -rf /usr/local/proftpd
</code></pre><p>���ű���װ��</p>
<pre><code>Դ�������װ�ϸ��ӣ�һЩ������������ýű���װ�ķ�ʽ һ��Ϊshell�ű� �� javaScript��д

Ӧ�þ�����webmin OpenOffice

#tar-xzvf webmin-1.530.tar.gz
#cd webmin-1.530
#vi README
#./setup.sh

www.webmin.com
</code></pre><p>���ű���װ�����ж�ء�</p>
<pre><code>�ڽ�ѹ��İ�װ����һ����ж�ؽű�
</code></pre><p>��Զ�̹���</p>
<pre><code>�����з�ʽ��Putty,secureCRT,XShell

ͼ�ν��棺Win C,X Manager

�������webmin
</code></pre><p>��APT������</p>
<pre><code>linux����������redhatϵ�� �� debianϵ��

�����������

    apt-cache search

�������Ϣ��

    apt-cache show

��װ�������

    apt-get install
    apt-get -f install  �޸���װ
    apt-get reinstall

ɾ����

    apt-get remove
    apt-get -purge remove   ж��ʱ�����������ļ�
    apt-get autoremove  ж��ʱ�Զ����������ϵ

�������Դ��

    apt-get update

�����Ѱ�װ����

    apt-get upgrade
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 网络设置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Linux - 网络设置/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>文件 /etc/sysconfig/network-scripts/ifcfg-eth0存放的是网络接口（网卡）的脚本文件（控制文件），ifcfg-eth0是默认的第一个网络接口，如果机器中有多网络接口，那么名字就将依此类推ifcfg-eth1,ifcfg-eth2,ifcfg-eth3……（这里面的文件是相当重要的，涉及到网络能否正常工作）。</p>
<p>====设定形式：设定值=值====</p>
<p>设定项目项目如下：</p>
<p>  *DEVICE        接口名（设备,网卡）</p>
<p>  *USERCTL      [yes|no]（非root用户是否可以控制该设备）</p>
<p>  *BOOTPROTO    IP的配置方法[none|static|bootp|dhcp]（引导时不使用协议|静态分配IP|BOOTP协议|DHCP协议）</p>
<p>  *HWADDR        MAC地址   </p>
<p>  *ONBOOT        系统启动的时候网络接口是否有效，是否启动这个网卡 （yes/no）   </p>
<p>  *TYPE        网络类型（通常是Ethernet）   </p>
<p>  *NETMASK        网络掩码   </p>
<p>  *IPADDR        IP地址   </p>
<p>  *IPV6INIT    IPV6是否有效（yes/no）   </p>
<p>  *GATEWAY        默认网关IP地址</p>
<p>  *BROADCAST     广播地址</p>
<p>  *NETWORK  网络地址</p>
<p>====可参照下面的例子====</p>
<p>  *DEVICE=eth0        </p>
<p>  *BOOTPROTO=static        </p>
<p>  *BROADCAST=192.168.1.255        </p>
<p>  *HWADDR=00:0C:2x:6x:0x:xx        </p>
<p>  *IPADDR=192.168.1.23        </p>
<p>  *NETMASK=255.255.255.0        </p>
<p>  *NETWORK=192.168.1.0        </p>
<p>  *ONBOOT=yes        </p>
<p>  *TYPE=Ethernet</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 用户管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Linux - 用户管理/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="���"><a href="#���" class="headerlink" title="���"></a>���</h2><p>�û����������ļ�<br>�û���������<br>�û����������<br>��������û�<br>�û���Ȩ</p>
<p>�û����������ļ�————————————————————————————————————-</p>
<p>�������ļ���</p>
<pre><code>�û���Ϣ�ļ���/etc/passwd

�����ļ���/etc/shadow


�û����ļ���/etc/group

�û��������ļ���/etc/gshadow


���û���Ĭ�����ã�

    �û������ļ���/etc/login.defs

                    PASS_MIN_LEN    ���볤��Ҫ��

                    UID_MIN         ��СUID
                    UID_MAX         ���UID

                    CREATE_HOME     �Ƿ񴴽�����Ŀ¼

                  /etc/default/useradd

                    GROUP=100
                    HOME=/home
                    INACTIVE=-1         �Ƿ񼤻�
                    EXPIRE=             ����ʱ��
                    SHELL=/bin/bash
                    SKEL=/etc/skel
                    CREATE_MAIL_SPOOL=yes

    ģ�������ļ���λ��/etc/skelĿ¼�£���Ŀ¼�µĶ��������ļ�������ӵ��û�������︴���ļ������û�������Ŀ¼��

��¼��Ϣ��/etc/motd

                message of the day

                �ɹ���¼֮����ʾ����Ϣ

          /etc/issue

                �û���¼֮ǰ��ʾ����ʾ��Ϣ��Ĭ��Ϊϵͳ�İ汾��Ӳ��ƽ̨
</code></pre><p>��/etc/passwd�ļ���ʽ��</p>
<pre><code>ÿһ�б�ʾһ���û����ж����оͱ�ʾ�ж��ٸ��û���

    $cat /etc/passwd

    root:x:0:0:root:/root:/bin/bash
    bin:x:1:1:bin:/bin:/sbin/nologin
    daemon:x:2:2:daemon:/sbin:/sbin/nologin
    adm:x:3:4:adm:/var/adm:/sbin/nologin
    lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
    sync:x:5:0:sync:/sbin:/bin/sync
    shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
    halt:x:7:0:halt:/sbin:/sbin/halt
    mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
    uucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologin
    operator:x:11:0:operator:/root:/sbin/nologin
    games:x:12:100:games:/usr/games:/sbin/nologin
    gopher:x:13:30:gopher:/var/gopher:/sbin/nologin
    ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
    nobody:x:99:99:Nobody:/:/sbin/nologin
    vcsa:x:69:69:virtual console memory owner:/dev:/sbin/nologin
    saslauth:x:499:76:Saslauthd user:/var/empty/saslauth:/sbin/nologin
    postfix:x:89:89::/var/spool/postfix:/sbin/nologin
    sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
    ssy:x:500:500::/home/ssy:/bin/bash
    mysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/false

ʹ��ð�ŷָ�7�����֣������������ǣ�

    �û���      �û���¼ϵͳʱʹ�õ��û���

    ����        ����λ��ע�ⲻ������

    UID         �û���ʶ��

    GID         ȱʡ���ʶ�ţ�һ���û����������ڶ���飬�������ȱʡ����

    ������Ϣ    �������û�ȫ���������ţ���Ŀ�����Ϣ

    ����Ŀ¼    �û���¼ϵͳ���ȱʡĿ¼

    Shell       �û�ʹ�õ�Shell��Ĭ��Ϊbash��д�����û����޷���¼ϵͳ

Ϊʲô������λ��

    ��/etc/passwd�б������û���Ϣ���ܶ�������Ҫ��ȡ��Щ��Ϣ�����Ȩ��������-rw-r--r--���������˶���rȨ�ޣ������뱣��������κ��˶����Գ����ƽ����룬��ȫ�Բ��á�

    ���ڵ�UNIX����������λ��������ġ�
</code></pre><p>ͳ������</p>
<pre><code>wc -l /etc/passwd
</code></pre><p>��DES��MD5��</p>
<pre><code>DES

    �ϰ汾��UNIXʹ��DES���ܣ�DESֻ����ǰ8λ

MD5

    ���볤�Ȳ��̶���������ȹ̶�

    ���򲻿��棬û��ͨ������õ�����
</code></pre><p>���û����͡�</p>
<pre><code>Linux�û���Ϊ���֣�

    �����û�    ��root,UID=0��

        ����˵root���ǳ����û�������UIDΪ0���û����ǳ����û�����Ȩ�޺�rootһ����

    α�û�      ��UID 1-499��

    ��ͨ�û�    ��UID 500-60000��
</code></pre><p>��α�û���</p>
<pre><code>1��α�û���ϵͳ�ͳ���������

    bin��daemon��shutdown��halt�ȣ��κ�LinuxϵͳĬ�϶�����Щα�û�

    mail��news��games��apache��ftp��mysql��sshd�ȣ���Linuxϵͳ�Ľ������

2��α�û�ͨ������Ҫ���޷���¼ϵͳ

3������û������Ŀ¼
</code></pre><p>���û��顿</p>
<pre><code>ÿ���û�����������һ���û���

ÿ���û�����԰�������û�

ͬһ�û�����û����и��鹲�е�Ȩ��

windows��Ƕ���飬linuxû��
</code></pre><p>��/etc/shadow�ļ���ʽ��</p>
<pre><code>root:$6$F7yJ4iBQ$oEGgf0eA2zkGoyx3Ac0ChoJ7HuDiRq5td9rXsGGGybHMNN15uBh8OETOPVRlNDqnkRBWwlcqQT7n5wor0d5b21:17306:0:99999:7:::
bin:*:17246:0:99999:7:::
daemon:*:17246:0:99999:7:::
adm:*:17246:0:99999:7:::
lp:*:17246:0:99999:7:::
sync:*:17246:0:99999:7:::
shutdown:*:17246:0:99999:7:::
halt:*:17246:0:99999:7:::
mail:*:17246:0:99999:7:::
uucp:*:17246:0:99999:7:::
operator:*:17246:0:99999:7:::
games:*:17246:0:99999:7:::
gopher:*:17246:0:99999:7:::
ftp:*:17246:0:99999:7:::
nobody:*:17246:0:99999:7:::
vcsa:!!:17306::::::
saslauth:!!:17306::::::
postfix:!!:17306::::::
sshd:!!:17306::::::
ssy:$6$DYQuZnbf$MqHan9/bBE0mCkhfxWivu1JeEWYv.NgUaWXQXL/ccBIO7Mkjb2flsv6uCUOAbrlQtfbAISo4gl.EQA0Gohl5m0:17306:0:99999:7:::
mysql:!!:17308::::::

ʹ��ð�ŷָ�9�����֣������������ǣ�

    �û���                  �û���¼ϵͳʱʹ�õ��û���

    ����                    ��������

    ���һ���޸�ʱ��        �û����һ���޸��������������linux�ĵ�����1970.1.1Ϊ��׼

    ��Сʱ����            �����޸�����֮�����С������Ĭ��0��ʾ���޶�

    ���ʱ����            ���뱣����Ч�����������Ĭ��Ϊ99999��

    ����ʱ��                ��ϵͳ��ʼ���浽����ʧЧ��������Ĭ��7��

    �˺�����ʱ��            �˺�����ʱ�䣬����������ȡ�û����δ��¼

    ʧЧʱ��                ����ʧЧ�ľ�������

    ��־                    һ�㲻ʹ��

/etc/shadow�ļ��е����뱻ɾ�������û�����Ҫ�������뼴�ɵ�¼ϵͳ

/etc/shadow�ļ�Ȩ�ޣ�-r--------����ֻ��root��rȨ�ޣ��Ƚϰ�ȫ
</code></pre><p>��/etc/passwd��/etc/shadow�е�����ת����</p>
<pre><code>linux���������룬�����Ƚ�����д��/etc/passwd�е�����λ��Ȼ��ʹ��pwconv���������ת�뵽/etc/shadow�ļ���ϵͳ�Զ���ɴ˹���

ʹ��pwunconv����ɽ�����ת����������/etc/shadow�ļ�ת��/etc/passwd�ļ�

pwconv  ��  password convert
</code></pre><p>��/etc/group�ļ���ʽ��</p>
<pre><code>root:x:0:
bin:x:1:bin,daemon
daemon:x:2:bin,daemon
sys:x:3:bin,adm
adm:x:4:adm,daemon
tty:x:5:
disk:x:6:
lp:x:7:daemon
mem:x:8:
kmem:x:9:
wheel:x:10:
mail:x:12:mail,postfix
uucp:x:14:
man:x:15:
games:x:20:
gopher:x:30:
video:x:39:
dip:x:40:
ftp:x:50:
lock:x:54:
audio:x:63:
nobody:x:99:
users:x:100:
floppy:x:19:
vcsa:x:69:
utmp:x:22:
utempter:x:35:
cdrom:x:11:
tape:x:33:
dialout:x:18:
saslauth:x:76:
postdrop:x:90:
postfix:x:89:
fuse:x:499:
sshd:x:74:
ssy:x:500:
mysql:x:27:

ʹ��ð�ŷָ�4�����֣������������ǣ�

    ����                    �û���¼ʱ���ڵ���

    ������                  һ�㲻ʹ��

    GID                     ���ʶ��

    �����û��б�            ���ڸ���������û��б�
</code></pre><p>��/etc/gshadow�ļ���ʽ��</p>
<pre><code>root:::
bin:::bin,daemon
daemon:::bin,daemon
sys:::bin,adm
adm:::adm,daemon
tty:::
disk:::
lp:::daemon
mem:::
kmem:::
wheel:::
mail:::mail,postfix
uucp:::
man:::
games:::
gopher:::
video:::
dip:::
ftp:::
lock:::
audio:::
nobody:::
users:::
floppy:!::
vcsa:!::
utmp:!::
utempter:!::
cdrom:!::
tape:!::
dialout:!::
saslauth:!::
postdrop:!::
postfix:!::
fuse:!::
sshd:!::
ssy:!::
mysql:!::

ʹ��ð�ŷָ�4�����֣������������ǣ�

    ����                    �û���¼ʱ���ڵ���
</code></pre><p>���ֹ�����û���</p>
<pre><code>1���ֱ���/etc/passwd��/etc/group��/etc/shadow�ļ������һ�ʼ�¼

2�������û�����Ŀ¼��������Ŀ¼��������Ϊ��Ӧ�û�

3�����û�����Ŀ¼������Ĭ�ϵ������ļ�����/etc/skelĿ¼�¸��������ļ�

4�������û���ʼ����
</code></pre><p>�û���������————————————————————————————————————-</p>
<p>��SetUID��</p>
<p>����</p>
<p>����</p>
<p>�û����������————————————————————————————————————-</p>
<p>����</p>
<p>����</p>
<p>����</p>
<p>��������û�————————————————————————————————————-</p>
<p>����</p>
<p>����</p>
<p>����</p>
<p>�û���Ȩ————————————————————————————————————-</p>
<p>����</p>
<p>����</p>
<p>����</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 文件系统管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Linux - 文件系统管理/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>���ļ�ϵͳ���ɡ�</p>
<p>/usr/bin /bin    ��������û�����ִ�е�����<br>/usr/sbin /sbin ���ֻ��root����ִ�е�����<br>/home �û�ȱʡ����Ŀ¼<br>/proc �����ļ�ϵͳ����ŵ�ǰ�ڴ澵��ȱʡ�Ǳ������ڴ澵���еģ�<br>/dev ����豸�ļ�<br>/lib ���ϵͳ������������Ĺ����<br>/lost+found ���һЩ��ϵͳ����ļ����<br>/tmp �����ʱ�ļ�������Ϊ��<br>/etc ���ϵͳ�����ļ�������ϵͳʱ��Ҫ����Ŀ¼<br>/var �������������䶯���ļ������ʼ�����־�ļ����ƻ������<br>/usr ��������������ֲ�ҳ ������c:\windows<br>/mnt ��ʱ�ļ�ϵͳ(���̡����̡�u��)�İ�װ��<br>/boot �ں��ļ����Ծٳ����ļ�����λ�ã�����ϵͳʱ��Ҫ����Ŀ¼<br>/usr/local ����������װĿ¼��������c��\programe files</p>
<p>df �鿴linnux�ķ������<br>    -h<br>    -m<br>du �鿴�ļ���Ŀ¼��С<br>    -h<br>    -s Ŀ¼<br>fsck e2fsck(file system check) ����޸��ļ�ϵͳ�����û�ģʽִ��<br>    e2fsck -p �Զ��޸�<br>    fsck -y �Զ��޸�<br>file �ж��ļ�����</p>
<p>�豸����<br>block deivce ���豸������̣����Ϊb<br>charset device �ַ����豸�����ӡ�������Ϊc</p>
<p>���ع���<br>mount /dev/cdrom /mnt/cdrom<br>df<br>cd /mnt/cdrom<br>ls /mnt/cdrom</p>
<p>ж�ع���<br>unmount /mnt/cdrom ��ʱ����ʾ�豸æ���統ǰ��λ��/mnt/cdrom��<br>��<br>eject ��ж��ͬʱ�ᵯ���������</p>
<p>�������ʽ��ԭ��</p>
<p>�����Ӳ�̺󣬼���Ƿ���ȷʶ��<br>dmesg | grep sdb</p>
<p>���ַ���(fdisk)<br>fdisk -l /dev/sdb �����Ӳ����Ϣ<br>fdisk /dev/sdb ����<br>    m ����<br>    p ��ӡ������<br>    n ����·���<br>        e ��չ����<br>        p �����������4������������ӷ���ʱ����ָ���ļ�ϵͳ���ͣ�Ĭ��Ϊlinux��idΪ83<br>    t �ı��ļ�ϵͳ����<br>    d ɾ������<br>    w ��������д����̱��沢�˳����������򲻻���Ч<br>    q ��������������˳�</p>
<p>�����ļ�ϵͳ(mkfs)<br>    mkfs.ext3 /dev/sdb1<br>���Թ���(mount)<br>    mkdir /web<br>    mount /dev/sdb1 /web<br>д�������ļ�(/etc/fstab)</p>
<h2 id="vi-etc-fstab"><a href="#vi-etc-fstab" class="headerlink" title="vi /etc/fstab"></a>vi /etc/fstab</h2><p>���������/���    ���ص�    �ļ�ϵͳ    ȱʡ����    �Ƿ���(1��/0)        ���˳��0�����,1���ȼ��,2���⣩<br>Label=/        /    ext3        defaults    1            1<br>/dev/sdb1    /web    ext3        defaults    1            2</p>
<p>e2label /dev/sdb1 apache ���Ӿ��</p>
<p>�������</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 引导流程解析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Linux - 引导流程解析/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>��Linux�������̡�</p>
<pre><code>�̼�Firmware(CMOS/BIOS)-&gt;ִ��POST(Power On Self Test)�ӵ��Լ�-&gt;��ȡMBR-&gt;�Ծٳ���BootLoader(GRUB)-&gt;�����ں�-&gt;�ں�Kernel-&gt;����Ӳ��

                                                                                                                      -&gt;�����init-&gt;��ȡ��ִ�������ļ�/etc/inittab


init�Ĺ�����

    init����ȡinittab�ļ���ִ��ȱʡ���м��𣬴Ӷ������������̡�

    ��UNIXϵͳ�У�init�ǵ�һ�����Դ��ڵĽ��̣�����PID��Ϊ1������Ҳ������һ�����߼��Ĺ��ܸ���PIDΪ0���ں˵�������Kernel Scheduler�����Ӷ����CPUʱ�� 

�ں˵��������������CPUʱ��ͽ��̼��л���

���ӽ��̣�linux�У���������ֹ���ӽ���Ҳ���뱻��ֹ������̱���ֹ�����ӽ���������ԭ��û����ֹ�����ӽ��̱���Ϊ�¶����̣�linux��⵽�¶����̺󣬻Ὣ�¶����̵ĸ�����ָ��init���̣�

          ���ӽ��̱���ֹ�󣬸�����û�˽⵽����Ϣ�������Ժ��ӽ���ȡ����ϵ������ӽ��̳�Ϊ��ʬ���̣�linux����Z��Zombie����ʾ��

MBR��Mater Boot Record ��������¼��λ��0����0��ͷ1����

     MBR��512���ֽ�

         Boot Loader ��446bytes�� �Ծٳ���

         Partition Table ��64bytes�� ������

               partition1 
               partition2 
               partition3 
               partition4 

         Magic Number��2bytes�� ������־��

�̼����������Ӳ��֮��

�̼��ĳ������ã�

    ��ȫ���ã�������BIOS����

    �������Ľ����б�

    ���������ʵ�����˳��

    ��Դ����

    ��ϸ����ʾ

    ��������

BIOSʱ��

    Ӳ��ʱ�ӣ�linux�г�Ϊhardware clock��ʹ������hwclock�鿴

    ����Ӳ��ʱ��ʱ�䣺hwclock --set --date=&quot;9/22/96 16:45:05&quot;

���ʱ��

    linuxϵͳ��ʱ�ӣ�ʹ��date����鿴

    �������ʱ��ʱ�䣺date MMDDhhmm[[CC]YY][.ss]����ʽ�� ��������ʱʱ�ַ���������.����

                      date 030821192014.30

���ʱ�Ӻ�Ӳ��ʱ�ӵ�ͬ��

    ����ʱ��ͬ������Ҫ��һЩ��Ӧ�ó����ڵ���ʱ��ֵʱ��ʱ�Ӳ�ͬ�����޷��������У�����ʾTime Error

                        һЩ��Ӧ�ó����ʱ���кܸߵ�Ҫ�������绷����ʵ��ͬ�������籸�ݣ���ʱ��Ҫ����������������ʱ����һ�µ�

    ͬ�����hwclock --hctosys         hardware clock to sys����Ӳ��ʱ��ͬ����ϵͳ

              hwclock --systohc         sys clock to haredware����ϵͳʱ��ͬ����Ӳ��

    NTP��Network Time Protocal�����񣬶��ں�ʵ�ʷ�����ͬ��???
</code></pre><p>��Linux���м���</p>
<pre><code>��/etc/inittab�����ļ�������linux�����м���init���̽���ȡinittab�����ļ�������ϵͳ�������趨�ļ����ϡ�

��7������0 - halt
                ���𣨹ػ�???�ô�???������Ҫ��Ĭ�ϵ����м�����Ϊ��ֵ

           1 - Single user mode
                ���û�ģʽ��������windows�İ�ȫģʽ��ֻ��root���Ե�¼���ô�дS��ʾ

           2 - Multiuser,without NFS
                ���û�ģʽ��û��NFS�������ʹ������ͺ�3һ��

                NFS��Network File System�������ļ�ϵͳ��sun��˾�����ķ�������Unix��Linux֮����ļ������򵥵���ȫ�Բʹ�ý���

           3 - Full multiuser mode
                �����Ķ��û�ģʽ

           4 - unused
                û��ʹ�ã������Լ���������м��𣬿��Զ�������Щ������

           5 - X11
                X11��X Window�İ汾�ţ�ͼ�λ��Ķ��û�������

           6 - reboot
                �����Ҫ��Ĭ�ϵ����м�����Ϊ��ֵ

           ???ϵͳ��Ĭ�ϼ���

�鿴��ǰ�����м���runlevel

            ��ʾN 3��N��ʾû���л������м���???

            ��ʾS 3��S��ʾ�л������м���???

�л����м���init [0123456Ss]

              telinit [0123456Ss]

              telinit��init��������

��inittab�У�������Ŀ��ȡ���¸�ʽ��

    id:runlevels:action:process

        id����Ŀ�ı�ʶ����1��4λ�ַ�

        run-levels��ָ�����м��𣬿���ָ����������Ϊ�գ����Ǳ�ʾ��ִ�У����Ǳ�ʾ��0��6ÿ�����м���Ҫִ��

        action��ָ������״̬��action����ȡֵ��

                    initdefault��ָ��ϵͳȱʡ������м���

                    sysinit��ϵͳ��ִ��process��ָ��������

                    wait��ִ��process��ָ������������������������������

                    once��ִ��process��ָ����������ȴ������

                    ctrlaltdel������Ctrl+Alt+Delʱִ��processָ��������

                    powerfail�������ֵ�Դ����ʱִ��processָ����������ȴ������

                    powerokwait������Դ�ָ�ʱִ��processָ��������

                    respawn��һ��processָ����������ֹ�����������и�����

        process��ָ��Ҫ���еĳ��������·��


    �Ƚ������һ�У�������ϵͳ��ʱ��Ĭ�����м���

        id:5:initdefault:
</code></pre><p>��Linux��������</p>
<pre><code>��ű� /etc/rc.d/rc.sysinit

    /etc/inittab��Ϊsi::sysinit:/etc/rc.d/rc.sysinit        

    �ɼ�����״̬Ϊ�գ�˵�������������м��𣬶���ִ��rc.sysinit�����Լ�����Ҫÿ��ϵͳ��ʱ��ִ�еĽű������Ը����ڴ��ļ����ݺ�

    ���ϵͳ������������ϵͳ�����������ã�����ϵͳʱ�ӣ��������壬�������ļ�ϵͳ������ϵͳ����Ϣ��־�ļ���

��ű� /etc/rc.d/rc

    �ж�ϵͳ�����м������Ӧ���м���Ŀ¼�еķ�����������Ӧ���м���ĳ�ʼ������

��ű� /etc/rc.d/rc[0123456].d        /etc/rc[0123456].d���������ӣ���Ϊ�˺�Unix�����ü���

    �ֱ��Ŷ�Ӧ�����м���ķ������ű��ķ������ӣ����ӵ�init.dĿ¼�е���Ӧ�ű���ls -l /etc/rc.d/rc3.dִ�н��������

        K35smb -&gt; ../init.d/smb
        S55sshd - &gt; ../init.d/sshd

    �ļ���ʽ��Ϊ3�����֣�

        ��ͷ��ĸS��K��S��ͷ�ı�ʾ�ڴ����м���ҪStart���K��ͷ�ı�ʾKill�رգ�ע�ⶼ�Ǵ�д����S��ΪСд������������ô��ص�ر��Լ�����Ҫ�ķ������д˹��ɣ�����Сдs��ͷ�ľͿ����˽⵽ĳ����ȱʡ����ϵͳ��ģ��Լ�������Ϊ�˲���

        �м������35,55��ʾ��/�رյ�˳������ԽСԽ������

        ����ǽű�������


���ܽ᣺

firmware--&gt;BootLoader(λ��MBR��)--&gt;��init����--&gt;��ȡ/etc/inittab�����ļ�--&gt;�ж�ϵͳ��ȱʡ���м���initDefault--&gt;ִ�нű�/etc/rc.d/rc.sysinit��ʼ��ִ�У������м����޹أ�--&gt;ִ�нű�/etc/rc.d/rc���ж�initDefault--&gt;�������м������ӦĿ¼/etc/rc.d/rc[0123456].d�µ���S��ͷ�Ľű�--&gt;����usrename,password


tty

    ctrl+alt+[F1--F6]�����Ӧ��6���ն�

    ctrl+alt+F7 �ص�X Window

/etc/rc.d/init.d        /etc/init.d�Ǵ�Ŀ¼��������Ŀ¼

    ��Ŀ¼�°����������м���ķ������ű�

    linux��װ�ķ������ű���λ�ڴ�Ŀ¼

    ֱ�����д�Ŀ¼�µĽű����ᵯ��ʹ�÷�������ʾ��Ϣ�����Դ������ֹ���͹رշ���

        /etc/rc.d/init.d/sshd

        Usage��/etc/rc.d/init.d/sshd {start|stop|restart|reload|condrestart|status}

            reload  ��ʾ���¶�ȡ����������ļ�������Ҫ�������

            condrestart ���ȼ������Ƿ������У����������������û���������κβ���

�����������

    ln -s

        ��һ�������ű��ļ��������ӣ��ŵ���Ӧ��������Ŀ¼�£���

        ln -s /etc/rc.d/init.d/msg.script /etc/rc.d/rc3.d/S100msg.script

    chkconfig

        chkconfig --list

            ��ʾϵͳ���Ѱ�װ�ķ����ȱʡ��״̬

            chkconfig --list httpd  ֻ��ʾhttpd�������Ϣ

        chkconfig --levels servicename on/off
        chkconfig --level servicename on/off

            ������Ϊservicename�ķ��������м���levels����Ϊon/off��һ�����м���ʹ��ѡ��--level�����ʹ��--levels

            chkconfig --levels 2345 httpd on

    ntsysv

        ntsysv --level 3

        �趨���м���3�������ͼ�ν���

    dmesg

        ��������ڼ�Ĵ���

        dmesg | grep hda

        dmesg | grep eth0

            ���û���ҵ��κ���Ϣ��˵���ں�û������������

    ϵͳ��־ /var/log/messages

        grep syslogd /var/log/messages

            ���ϵͳ��־�����ҿ��ܱ�dmesg���Ե�Ӧ�ó������

        /var/log

            ��Ŀ¼��ŵ�����־�ļ�
</code></pre><p>��GRUB������Ӧ�á�</p>
<pre><code>GRUB��the GRand Unified Bootloader

GRUB�������ļ�Ĭ��Ϊ/boot/grub/grub.conf    /etc/grub.confΪ�������ļ���������

����ѡ�

    default

        ����ȱʡ����ϵͳ��0��ʾ��1����1��ʾ��2������ϵͳ���б���title�˵��������пɿ���

    timeout

        ����ȱʡ�ȴ�ʱ��

    splashimage

        ����GRUB����ͼƬ�����640x480�ķֱ��ʣ�ɫ��14�����ʱ�Կ�����δ���أ��߷ֱ��ʵ�ͼƬ�ᵼ�±������һƬ

        λ��/boot/grub/splash.xpm.gz

    hiddenmenu

        ���ز˵���ɾ����ѡ������ʾ�˵���

    title

        ����˵�������

    root

        ����GRUB�ĸ��豸���ں����ڵķ���

    kernel

        �����ں��ļ�����λ��

    initrd

        ������ؾ����ļ�

GRUB���

    e���༭��ǰ����˵���

    c������GRUB��������ģʽ

    b�����ǰ�Ĳ˵���

    d��ɾ����ǰ��

    esc������GRUB��˵����棬ȡ���Ե�ǰ�˵����������κ��޸�
</code></pre><p>������Ϸ���������</p>
<pre><code>Ӧ��1��root�������룬���뵥�û�ģʽ�������룺

        ��������GRUB���棬��e����༭��ģʽ

                        ��ѡ��kernel�У��ٴΰ�e

                        �����µĽ�������һ�е����λ������ո�����м���ı�ţ����ɽ����Ӧ�����м�����ո�1����ո�s����ʾҪ���뵥�û�ģʽ

                        ���س���b������������úõ����м���

                        �����뵥�û�ģʽ�ǲ���Ҫ�κ����ܵģ�����ϵͳ��passwd root��Ҳ����Ҫ�����뼴�ɸ���

Ӧ��2������GRUB���룬�����κ��˿ɽ��뵥�û�ģʽ��

    1��ʹ��GRUB�Դ���grub-md5-crypt ���� ��GRUB���������н�����ʹ��md5crypt�õ�MD5���ܵ������ַ�������xxx

    2������GRUB�����ļ�/boot/grub/grub.conf����title��������һ�У�password --md5 xxxxxxxxxx ��xxxΪ����ʹ������õ������룩

    3���������GRUBʱ�������ǰ�e���б༭��������Ҫ�Ȱ�p����������

Ӧ��3�������ļ�grub.conf���ô����޸�GRUB

    �����������grub���浫û�в˵���ֻʣ��һ��grub&gt;��ʾ��������취��

    1���鿴grub�����õĲ������ҳ�����

        grub&gt;cat /grub/grub.conf

    2��ȷ�ϴ���󣬽�root,kernel,initrd 3������ʹ����ȷ�ķ�ʽִ��һ�飺

        grub&gt;root(hd0,6)

        grub&gt;kernel(hd0,6)/vmlinuz-2.4.18-14 ro root=LABEL=/

        grub&gt;initrd(hd0,6)/initrd-2.4.18-14.img

    3����

        grub&gt;boot

Ӧ��4��inittab�ļ��𻵻�ʧ������linux rescueģʽ

        1��BIOS����Ϊ���������Linux��װ�̷ŵ�������ʹ�ù���������

        2�����ְ�װ����󣬸�����ʾ��F5������linux rescueģʽ

        3����boot������linux rescue�����س�

        4��ʹ�ñ��ݵ�inittab.bak�޸�
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 常用命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Linux - 常用命令/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="【文件命名规则】"><a href="#【文件命名规则】" class="headerlink" title="【文件命名规则】"></a>【文件命名规则】</h2><p>1、大小写敏感，linux使用C语言开发，可以理解为继承了C语言的这个特性<br>2、除了/之外，所有的字符都合法<br>3、有些字符最好不要用，如空格、制表符、退格符和字符@&amp;$#<a href=""></a>-等，很可能引起混淆。<br>    如文件名”a b”，使用命令查看文件内容cat a b，则会误解为查看文件a和文件b的内容。<br>4、避免使用+-.为文件名第一个字符<br>    以.开始的文件为隐藏文件</p>
<pre><code>??? + 和 - 的特殊性

windows的文件名一般遵循8.3规则，即文件名8个字符以内，后缀名3个字符
</code></pre><h2 id="【linux文件的后缀】"><a href="#【linux文件的后缀】" class="headerlink" title="【linux文件的后缀】"></a>【linux文件的后缀】</h2><p>linux文件不一定有后缀名<br>文件名的长度也不像windows前8后3，可能会很长</p>
<h2 id="【命令格式】"><a href="#【命令格式】" class="headerlink" title="【命令格式】"></a>【命令格式】</h2><p>命令 -选项 参数</p>
<p>参数：命令操作的对象<br>选项：命令的不同操作方法，不同的设置<br>      选项可以有多个，多个可以连着写在一起，如 ls -l -a等同于 ls -la</p>
<p>两个特殊的目录：<br>.    代表当前目录<br>..    代表上一级目录</p>
<p>linux格式更严格，如上一级目录dos直接写cd..，而linux下cd和..之间必须有个空格</p>
<p>【命令分为了两种】</p>
<pre><code>一种是只有管理员root可以执行的命令，放在目录/sbin和/usr/sbin目录下

一种是所有人都可以执行的命令，放在目录/bin和/usr/bin目录下

所以可以根据命令所在的路径、目录确定都有谁可以执行此命令

bin表示binary，二进制，sbin表示super binary???

linux下所有的东西都是文件，命令自然也是文件

linux下的二进制文件是个非常广泛的范畴，不是目录，不是很特殊类型的文件，就是二进制文件???

widows用不同的图标来标明文件类型，而linux用不同的颜色来标记不同的文件类型，最常见的二进制文件和目录，分别是反色和蓝色
</code></pre><p>【数据块block】</p>
<pre><code>windows中一般用KB，MB，GB来表示大小，而linux中一般使用数据块block来表示大小，一个block通常是512字节，是linux存储数据的最小单位

block越大，存取速度越快，越浪费空间；block越小，越节省空间，速度越慢。
</code></pre><p>【Ctrl+c终止命令】</p>
<pre><code>终止当前正在执行的命令

限制是只有在用户能够从某个控制台上控制这个程序的时候才奏效
</code></pre><p>【使用kill根据pid终止进程】</p>
<pre><code>先使用ps命令获得pid

kill pid

kill -s 9 pid

    强制结束进程，不做善后处理
</code></pre><p>【文件处理命令】</p>
<pre><code>命令名称：ls
英文原意：list
所在路径：/bin/ls
执行权限：所有用户
功能描述：显示目录文件
语法：ls 选项[-ald]
        -a 表示all，显示所有的文件，包括隐藏文件，两个特殊目录.和..也只有加上此参数才显示（???目录也是文件???）
        -l 表示long，以长格式显示，详细信息显示
        -d 表示directory，查看目录本身的信息，和-l选项合用，即ls -ld，否则只能看到一个.
        -i 表示inode，i节点，是一个数字标示，linux内核处理任何东西都需要知道i节点，所有文件都需要有一个i节点，两个文件的i节点可以相同

结果解释：7个部分

        drwxr-xr-x    2    root    root    4096    12-01 21:10     bin
        ---------------------------------------------------------

        linux中的权限分类：

            r表示read，w表示write，x表示execute执行，即可读可写可执行

        drwxr-xr-x分为4组：

            d    文件类型 d    表示directory，目录
                         -    表示二进制文件
                         l    表示link，软链接文件
                         b  
                         c

            rwx    所有者u(user)的权限，默认文件由谁创造，谁就是文件的所有者，但所有者权限也可转让

            r-x    所属组g(group)的权限

            r-x    其他人o(others)的权限

        其他数据含义：

            2        硬链接数
            ------------------------------------------
            root    文件的所有者    
            ------------------------------------------
            root    文件的所属组（所有者和所属组没有必然的联系吧，如所有组就是所有者所在的组???）
            ------------------------------------------
            4096    文件本身或目录及其子目录本身的大小，并非目录下所有文件的总的大小
            ------------------------------------------
            12-01 21:10    文件创建或最后修改的时间（修改属性还是内容，还是both？）
            ------------------------------------------
            bin        文件名

注意：ls的参数即可是目录，也可是文件，因linux里的目录也是文件，所以如test目录下有很多文件，只查看文件file1的信息，可ls -l test/file1


命令名称：cd
英文原意：change directory
所在路径：shell内置命令，使用which cd查找不到文件???
执行权限：所有用户
语法：cd 目录
功能描述：切换目录
举例：cd /    切换到根目录
      cd ..    回到上一级目录，中间空格不能省略


命令名称：pwd
英文原意：print working directory
所在路径：/bin/pwd
执行权限：所有用户
语法：pwd
功能描述：显示当前所在的工作目录
举例：pwd


命令名称：touch
英文原意：
所在路径：/bin/touch
执行权限：所有用户
语法：touch 文件名
功能描述：创建新文件内容为空，文件已存在时则不创建
举例：touch newfile

命令名称：mkdir
英文原意：make directories
所在路径：/bin/mkdir
执行权限：所有用户
语法：mkdir 目录名
功能描述：创建新目录
举例：mkdir newdir
      mk /test1
      mk /test1/test11 执行此命令时test1必须存在

命令名称：cp
英文原意：copy
所在路径：/bin/cp
执行权限：所有用户
语法：cp 一个或多个源文件 目的目录
         -R 源目录  目的目录
            复制文件无需-R参数，目录需带-R参数
         -p    同时复制创建时间等属性
功能描述：复制文件或目录
举例：cp file1 file2 dir1
        将文件file1、file2复制到目录dir1
      cp -R dir1 dir2
        将dir1目录复制到dir2下

命令名称：mv
英文原意：move
所在路径：/bin/mv
执行权限：所有用户
语法：mv 源文件或目录 目的目录
功能描述：移动文件、目录或改名文件、目录
举例：mv file1 file3
        将文件file1改名为file3
      mv file2 dir2/file22
        将文件file2移动到目录dir2下，并改名为file22
      mv dir1 dir2/dir11
        将目录移动到目录dir2下，并改名为dir11


命令名称：rm
英文原意：remove
所在路径：/bin/rm
执行权限：所有用户
功能描述：删除文件或目录
          删除文件无需-R/-r参数，目录需带-R/-r参数
语法：rm file
         -f             表示force，删除时不进行询问确认
         -r/-R dir   删除目录，其下的文件也会被删除，但若没有-f选项则每个文件都会询问是否删除

另有rmdir命令只能删除空目录


rmdir：只能删除空目录，使用较少



命令名称：cat
英文原意：concatenate and display files
所在路径：/bin/cat
执行权限：所有用户
语法：cat 文件名
功能描述：显示文件内容，适合显示内容不多的文件，文件内容过多时，则只能看到最后一屏的内容
举例：cat /etc/issue


命令名称：more
英文原意：
所在路径：/bin/more
执行权限：所有用户
语法：more 文件名
         空格    一页一页的滚动
         Enter        一行一行的滚动
         q或Q        退出
        h键调出快捷键说明，回车退出快捷键说明继续more内容的显示
功能描述：分页显示文件内容，同时会在底部显示当前浏览的进度百分比
举例：more /etc/services


命令名称：head
英文原意：
所在路径：/bin/head
执行权限：所有用户
语法：head -num 文件名
功能描述：查看文件的前num行，没有num参数则默认10行
举例：head -20 /etc/serives

命令名称：tail
英文原意：
所在路径：/bin/tail
执行权限：所有用户
语法：tail -num 文件名
           -f    动态显示文件的最后num行
                如查看服务器日志信息
功能描述：查看文件的后num行，没有num参数则默认10行
举例：tail -20 /etc/serives


命令名称：ln
英文原意：link
所在路径：/bin/ln
执行权限：所有用户
语法：ln -s 源文件 目标文件
         -s    创建软链接，不加此参数则为创建硬链接
功能描述：产生链接文件
举例：ln -s /etc/issue /etc/issue.soft
    　ln /etc/issue /ect/issue.hard

软链接、硬链接都可以有多个

【软链接文件特点：
1、文件类型是l
2、所有软链接文件的权限都是rwxrwxrwx
3、文件名带有箭头指向源文件
4、文件很小，只是一个符号链接
5、时间值是创建软链接文件时的时间，和源文件时间值无关
6、删除源文件时，软链接文件则无法正常访问
7、可以跨文件系统(分区)

类似于windows的快捷方式
】

【硬链接文件特点：
１、文件类型、时间等和源文件相同，类似与cp -p
２、源文件和硬链接文件是同步更新的，相当于文件的实时备份
３、删除源文件时，硬链接文件仍可正常访问
４、不能跨文件系统(分区，如在swap分区不能创建root分区的硬链接文件)

可以同步更新的原因是，硬链接文件和源文件的i节点相同，可使用ls -i命令查看
linux内核通过调用数字标识来处理各对象，如用户，文件等，所以每个文件必须都有一个i节点，但一个i节点可对应多个文件

类似于PHP的引用变量???
】

目录可否做软、硬链接？

echo &quot;this is a test&quot; &gt;&gt; file1 将输出追加到file1末尾
</code></pre><p>【权限管理命令】</p>
<pre><code>命令名称：chmod
英文原意：change the permissions mode of a file 
所在路径：/bin/chmod
执行权限：所有用户
语法：
       chmod [{ugo}{+-=}{rwx}][文件或目录]
       chmod [421][文件或目录]  重点

       chmod u + r
       chmod g - w
       chmod o = x
       3种对象：u所有者 g所属组 o其他人
       3种权限：r可读   w可写   x可执行
       3种操作：+增加权限 -删除权限 =赋值权限
       进行组合

       因
       r 对应 4，w 对应 2，x 对应 1
       chmod 421
功能描述：改变文件或目录权限
举例：chmod 641 file1（推荐方法）
      chmod g+wr file1


        切换用户，root切换到普通用户无需密码，普通用户之间切换或普通用户切换到root需密码

            su - 用户名
               -l 用户名
               --login 用户名

        添加用户

            useradd 用户名

        为用户设置密码

            passwd 用户名

            这样设置密码是交互的方式，即要输入两次进行确认，在使用脚本批量添加用户并设置密码时不适用，可以使用这种方式：

                echo 123456  | passwd --stdin ssl

                其中123456为密码而ssl是用户名


        理解rwx对文件和目录的含义
        -----------------------------------------------------------------
        字符 权限        对文件的含义        对目录的含义
        -----------------------------------------------------------------
        r    读权限        可以查看文件内容    可以列出目录内容            
                        cat、more、head        ls
                        tail
        -----------------------------------------------------------------
        w    写权限        可以修改文件内容(属性呢？）可以在目录中创建、删除文件
                        echo、vi            touch、mkdir、rm
        -----------------------------------------------------------------
        x    执行权限    可以执行文件        可以进入目录
                        命令、脚本            cd
        -----------------------------------------------------------------
        目录的rx权限通常一起出现


命令名称：chown
英文原意：change file ownership
所在路径：/bin/chown
执行权限：所有用户
语法：chown 用户 文件或目录
            用户需要是系统中确实存在的用户
功能描述：改变文件或目录的所有者
举例：chown somebody file1


命令名称：chgrp
英文原意：change file group ownership
所在路径：/bin/chgrp
执行权限：所有用户
语法：chgrp 用户组 文件或目录
功能描述：改变文件或目录的所属组
举例：chgrp adm file1
    文件的所有者和所有组之间无必然联系，不是说文件的所有组一定是文件的所有者在的那个组


touch创建新文件，mkdir创建新文件夹时，文件和文件夹都有缺省的权限，缺省的权限如何查询和设置？

命令名称：umask
英文原意：
所在路径：/bin/umask ???which umask???查找不到
执行权限：所有用户
功能描述：显示或设置新建文件和目录时缺省的权限，这里不是直接设置权限数值，而是使用掩码值的方法，即777减去缺省的权限数值，即得到掩码值
语法：

      umask 

        返回数字形式的umask码，如：

             0022，第一个0表示特殊权限位，022表示用户权限位，是掩码值，得到正确的权限值：

               777
             - 022  
             ——————
               755  

      umask - S

         以rwx形式显示新建文件或目录的缺省权限，如：

            u=rwx,g=rx,o=rx

         但有的系统可能不支持-S参数

      umask 027

         设置新的权限掩码，要修改此值，也是使用权限的掩码值

           777
         - 755 
         ——————
           022  

注意；    

    linux缺省权限规则：缺省创建的文件不能授予可执行权限，所以即使默认的权限有执行权限，也只是目录有，文件没有。

    所以touch newfile3，即使umask是022，即权限值是755，文件也是没有执行权限的，实际是644。是linux的一个小安全机制，可防止病毒、木马等文件。 
</code></pre><p>【文件搜索命令】</p>
<pre><code>命令名称：which
英文原意：
所在路径：/usr/bin/which
执行权限：所有用户
语法：which 命令名称
功能描述：只查找命令目录，显示命令所在的绝对路径
          同时也会显示命令的别名，如ls命令其实并不带颜色输出，其颜色是使用别名功能实现的
举例：which ls

命令名称：whereis
英文原意：
所在路径：/usr/bin/which
执行权限：所有用户
语法：whereis 命令名称
功能描述：只查找命令目录，显示命令所在的绝对路径
          同时也会显示命令帮助文档所在的目录
举例：whereis ls

命令名称：find
英文原意：
所在路径：/usr/bin/find
执行权限：所有用户
语法：find 搜索路径 搜寻关键词
功能描述：通用查找命令，可查找任何的文件或目录（which和whereis只查找命令所在的路径），Ctrl-c中断查找
          查找时尽量节省系统资源，查找范围越小越好，关键词越精确越好
举例：

    find 搜索路径

        遍历并显示搜索路径下的所有子文件夹和文件

            find /root 

    选项 -name 

        根据文件名查找

            find /etc -name init 查找文件名为init的文件

                                 可配合通配符，* 匹配任意字符，包含0个字符 

                                               ? 匹配单个字符，不包含0个字符（和正则表达式的包含0个或1个字符不同???）

    选项 -size

        根据文件大小查找

            find / -size +204800 在根目录下查找大于100MB的文件 慎用根目录查找

                 size后的数字单位为block数据块，一个block数据块为512字节，即0.5KB

                 1KB = 2Block
                 100MB = ?Block
                 100MB = 102400KB = 204800Block

                 大于 + 小于 -

                 注意：根据大小查找时都需要配合+-，如不可能文件的大小刚刚好等于100MB

    选项 -ctime/atime/mtime/cmin/amin/mmin

        根据时间查找

            c - change 改变，文件属性被修改，如所有者、所属组、权限
            a - access 访问，文件内容被浏览过
            m - modify 修改，文件的内容被修改过

            以天为单位：ctime、atime、mtime
            以分钟为单位：cmin、amin、mmin

            - 多少时间之内
            + 超过多少时间

            注意：根据时间查找时都需要配合+-，如不可能文件的修改时间等刚刚好等于2个小时

            find /etc -mmin -120 两个小时之内被修改过的内容的文件，注意-120前的-表示“xx时间之内”，而不是选项前的-

    选项 -type

        根据文件类型查找：f 二进制文件 l 软链接文件 d 目录

            find /etc -type f

    选项 -user

        根据文件所有者查找

            find /home -user samle

    连接符-a和-o

        -a and 逻辑与，即查找的两个条件必须都满足
        -o or  逻辑或，即查找的两个条件满足一个即可

            find /etc -name init* -a -type f 只列出文件，不列出目录(f 文件 d 目录 l 软链接)

    连接符-exec 命令 {} \;

        {}表示find查询的结果
        \ 转义符，使符号或命令使用本身的含义，如rm有个别名rm -i，删除时会提示，但执行\rm，则不会再提示

        find /test -name testfile3 -exec rm {} \; 查找到file3后将其删除
        find /home -user samelee -exec rm -rf {} \; 找到samlee的文件并将其删除

    连接符-ok 命令 {} \;

        同上述exec相同，只是执行命令时会增加询问

    选项 -inum

        根据i节点进行删除，特殊的文件名，如a空格b  -abc 在删除时会遇到问题，可使用find和i节点进行删除

        ls -i
        find . -inum 16 -exec rm {} \;

        创建a空格b文件的方法：touch &quot;a b&quot;，直接touch a b会被创建两个文件a和b，直接rm a b会被认为要删除文件a和b，正确的删除rm &quot;a b&quot;

        创建-abc文件的方法：touch -- -abc，rm -abc和rm &quot;-abc&quot;都会被认为是option，可以rm -- -abc，rm没有根据i节点删除文件的选项，所以需要配合ls和find


指令名称：locate
指令英文原意：list files in databases
指令所在路径：/usr/bin/locate
执行权限：all user
语法：locate [搜索关键字]
功能描述：寻找文件或目录，Unix系统不提供此
     (find是检索文件系统，而locate是在文件数据库中查找，所以速度很快，但因为文件数据库定期更新，所以查找结果可能会不太准确，可配合updatedb命令使用。适合搜索系统的命令、配置文件等默认自带的文件）
范例：locate file（和file相关的文件，搜索结果疑惑???）


指令名称：updatedb
指令英文原意：update the slocate dababase
指令所在路径：/usr/bin/updatedb
执行权限：root
语法：updatedb
功能描述：建立整个系统目录文件的数据库，可配合计划任务，定期执行updatedb
范例：updatedb


指令名称：grep
指令英文原意：global search regular expression(RE) and print out the line,全面搜索正则表达式并把行打印出来
              是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。
指令所在路径：/bin/grep
执行权限：all user
语法：grep [指定字符串] [源文件]
      grep -v 字符串 源文件     找出不匹配的行
功能描述：在文件中搜寻字串匹配的行输出
范例：grep ftp /etc/services
      grep -v &quot;^#&quot; /etc/inittab | more 剔除inittab中的以#开头的注释行
</code></pre><p>【帮助命令】</p>
<pre><code>命令 --help
    主要获取命令的选项信息

help [内置命令]
    查看shell内置命令的帮助，如help cd


指令名称：man
指令英文原意：manual
指令所在路径：/usr/bin/man
执行权限：all user
语法：man [命令或配置文件]
功能描述：
获得帮助信息，调用了more命令来浏览长内容
man page 是 linux 最常用的参考手册，由很多页面组成，每个页面描述一个主题，页面又被组成了 9 个 Section

范例：
    man ls          查看ls命令的帮助信息
    man services    查看配置文件services的帮助信息，只能是配置文件，无需写路径
    man cd          因为cd是shell的一个内置命令，所以man列出的是当前shell的所有内置命令，而不是关于cd命令的说明
    当命令和配置文件名称相同时，如，passswd，man会优先查看命令的帮助

    man ls
    输出中包含的是：LS(1)
    LS表示命令，后面的(1)也是有含义的，表示的是帮助的种类
    帮助分成很多种，共9种，第1种是命令的帮助，第5种是配置文件的帮助，所以查看配置文件可以写成 man 5 passwd
        1. User Commands 普通用户命令，如 ls(1)
        2. System Calls 系统调用，如 _exit(2)
        3. C Library Functions 函数和函数库，多为C语言的，如 printf(3)
        4. Devices and Special Files 设备文件的说明，通常是在/dev下的文件，如 null(4) 描述的是设备文件 /dev/null 的作用
        5. File Formats and Conventions配置文件或者是某些文件的格式，如 password(5) 描述的是 /etc/passwd 文件的格式
        6. Games 游戏
        7. Miscellanea 杂项，包括了惯例与协议等，例如Linux文件系统、网络协议、ASCII code等说明
        8. System Administration tools And Daemons 具有 root 权限用户的系统管理命令，如 ifconfig(8)
        9. 跟kernel有关的文件
    1、5、7是常用的
    2、3是程序开发需要用的

    注意区分用户命令1和系统管理命令8，
    用户命令一般位于 /bin /usr/bin 目录，由普通用户调用
    系统管理命令一般位于 /sbin /usr/sbin，由具有 root 权限用户调用

h键可调出怎样在man中操作的帮助文档，如：f 向前滚动一页 
                                        b 向后滚动一页 或者 空格
                                        j 向下滚动一行 或者 回车
                                        k 向上滚动一行
                                        像在vi中一样使用“/string”或者“?string”来查询string字符串，用n（或N）继续查询下一个（或上一个）。
                                        还有按q退出。。。
有时man xxx时提示“No manual entry for”
则表示xxx命令没有man文件或者man命令不知道xxx命令的man文件路径
没有man文件的无能为力，不知道路径的可以这样解决：
    第一种：编辑/etc/man.config文件，添加MANPATH路径，如MANPATH /usr/local/xxx/man/。
    第二种：不修改man.config文件，直接man后面加上绝对路径，如：man /usr/local/varnish/share/man/man7/vcl.7 
    第二种方法适合用无root权限的用户。

指令名称：info
指令英文原意：information
指令所在路径：/usr/bin/info
执行权限：all user
语法：man [任何关键字]
功能描述：获得帮助信息，Unix没有此命令
范例：  info ls 查看ls命令的帮助信息
info快捷键：
            空格      向后翻页
            backspace 向前翻页
            n         后一个章节
            p或u      前一个章节


指令名称：whatis
指令英文原意：
指令所在路径：/usr/bin/whatis
执行权限：all user
语法：whatis [任何关键字]
功能描述：获得索引的简短说明信息，在whatis数据库中搜寻完整匹配关键字，提取了&quot;man 命令&quot;中的name一行，是命令的一个简短说明
范例：whatis ls 查看ls命令的帮助信息

指令名称：apropos
指令英文原意：
指令所在路径：/usr/bin/apropos
执行权限：all user
语法：apropos [任何关键字]
功能描述：
范例：apropos ls 查看ls命令的帮助信息，相当于man -k

        查看配置文件的内容 ，如apropos 配置文件名


指令名称：makewhatis
指令英文原意：
指令所在路径：/usr/sbin/makewhatis
执行权限：root
语法：makewhatis
功能描述：建立whatis和apropos搜索使用的whatis数据库，当使用这两个命令发生错误时，就是whatis database没有建立
???不知道怎么退出命令，怎么使用这个命令
</code></pre><p>【压缩解压命令】</p>
<pre><code>linux的压缩格式，windows都支持；而windows的压缩格式，linux不一定支持，如.rar

linux最常使用的.gz和.bz2格式，都可以使用tar命令一步到位完成归档压缩、解压缩

其-a参数会根据后缀名自动调用gzip/gunzip/bzip2/bunzip2等命令完成

处理.zip文件还是需要zip/unzip命令

tar Tape ARchive，磁带存档

    归档压缩
    ---------
    $tar -cavf testfile.tar.gz testfile1 testfile2 testfile3
    $tar -cavf testfile.tar.bz2 testfile1 testfile2 testfile3
        -c 创建新归档文件
        -a 使用归档后缀名来决定压缩程序，gzip还是bzip2，不带此参数则仅打包不压缩
        -v 详细地列出处理的文件
        -f 必须有的参数，因为后面是文件名
    注：归档后和归档前的文件名都不能省略，因为大多数都是多个文件归档为一个文件，多对一关系


    解压缩
    --------
    $tar -xvf testfile.tar.gz
    $tar -xvf testfile.tar.bz2
    $tar -xvf testfile.tar.bz2 -C testdir
        -x 展开归档文件，处理.tar
        -v 详细地列出处理的文件
        -f 必须有的参数，因为后面是文件名

        -C 改变解出文件目录，
           因为大部分的软件包都是把顶层文件夹直接打包，
           所以解压缩后自动在当前目录下生成此顶文件夹，
           故多数不需要此参数
           若是直接打包的多个文件，则最好给出此参数
           使文件统一解压到一个文件夹里

    和归档后缀名无关，.gz和.bz2都可以解压



    查看归档文件列表
    ------------
    $tar -tvf archive.tar
        -t 列出归档内容
        和归档后缀名无关，.gz和.bz2都可以显示


------------------------------------------------------------------------------------

命令名称：gzip
英文原意：GNU zip
所在路径：/bin/gzip
执行权限：所有用户
语法：gzip 选项 文件
功能描述：压缩文件，压缩后文件格式.gz
举例：gzip newfile4
注意：1、不能压缩目录，只能压缩文件（不能压缩软链接文件），可以先使用tar命令将目录打包为文件
      2、不保留原文件


命令名称：gunzip 或 gzip -d
英文原意：GNU unzip
所在路径：/bin/gunzip
执行权限：所有用户
语法：gunzip 选项 文件
功能描述：解压缩.gz的压缩格式文件
举例：gunzip newfile4 或 gzip -d newfile4


命令名称：tar
英文原意：
所在路径：/bin/tar
执行权限：所有用户
语法：tar 选项 打包完后的文件名 源文件名
          -c  表示create,产生.tar打包文件
          -x  解包.tar文件

          -v  显示命令执行过程的详细信息
          -f  指定目标文件名，必须包含此选项
          -z  --gzip --gunzip 通过gzip过滤归档
          -j  --bzip2         通过bzip2过滤归档
功能描述：打包目录，将目录打包为一个文件，打包后文件格式：.tar，若打包同时进行压缩，则文件格式.tar.gz
举例：tar -cfzv newdir.tar.gz newdir    ???选项顺序还有讲究，这个不行
          -zcvf                                              这个行
      tar -xfzv newdir.tar.gz
注意：打包并压缩的文件名后缀可为任意，也可没有，但.tar.gz容易辨认
      file命令可帮助判断文件的类型，如file newdir.asdf
另：
      软件包3种安装形式：
          1、二进制包  
          2、源代码包  先编译再安装，虽麻烦，但定制性高
          3、脚本安装




命令名称：zip
英文原意：
所在路径：/usr/bin/zip
执行权限：所有用户
语法：zip 选项    压缩后文件或目录    源文件或目录
            -r    压缩目录
功能描述：压缩文件或目录
举例：zip newfile4.zip    newfile4
      zip -r newdir.zip    newdir
注意：1、会保留原文件
      2、会显示压缩比
      3、.zip默认为windows和linux的通用格式


命令名称：unzip
英文原意：
所在路径：/usr/bin/unzip
执行权限：所有用户
语法：unzip 压缩文件
功能描述：解压缩.zip的压缩格式文件
举例：unzip test.zip

命令名称：bzip2
英文原意：
所在路径：/usr/bin/bzip2
执行权限：所有用户
语法：bzip2 选项 文件
            -k    产生压缩文件后保留原文件
功能描述：压缩文件
举例：bzip2 -k file1
注意：1、压缩后文件格式 .bz2
      2、.bz2是.gz的升级版，也只能压缩文件，但-k参数可保留原文件
      3、压缩比很高

命令名称：bunzip2
英文原意：
所在路径：/usr/bin/bunzip2
执行权限：所有用户
语法：bunzip2 选项 压缩文件
            -k    保留原压缩文件
功能描述：解压缩文件
举例：bunzip2 -k file1.bz2
</code></pre><p>【网络通信命令】</p>
<pre><code>命令名称：write
英文原意：
所在路径：/usr/bin/write
执行权限：所有用户
语法：write 用户名
功能描述：向另外一个用户发信息，以Ctrl+D为结束
举例：write samlee
注意：为实时通信，双方必须都已登录

命令名称：wall
英文原意：write all
所在路径：/usr/bin/wall
执行权限：所有用户
语法：wall 信息 文件名
功能描述：向所有用户广播信息
举例：wall happy new year

命令名称：ping
英文原意：
所在路径：/usr/sbin/ping
执行权限：root
语法：ping 选项 IP地址
            -c 指定ping的次数
            -s 指定包的字节大小，最大65507，默认为64字节
功能描述：测试网络连通性，主要查看延时和丢包率两个指标（低端的测线仪只能测试是否联通，不能测试丢包率）
举例：ping 192.168.0.1
注意：和windows的ping不同，linux下的ping命令会一直ping下去，除非按ctrl+c终止

       ping 局域网其他机器地址，正常则证明局域网没问题
       ping 本机Ip地址，正常则证明本地的IP设置没问题
       ping 回环地址127.0.0.1，正常则证明本机的tcp/ip协议安装没问题，即使没有网卡，只要正确安装tcp/ip协议，一样可以ping通


命令名称：ifconfig
英文原意：interface config
所在路径：/usr/sbin/ifconfig
执行权限：root
语法：ifconfig 选项 网卡设备标识
                -a    显示所有网卡信息（linux可省略，unix不可）
功能描述：查看网络设置信息
举例：ifconfig -a
    更改    
      ifconfig etho 192.168.0.2 只在本次会话生效，未写入配置文件，下次重启即失效
    查询
      ifconfig eth0

eth0    第一块物理网卡

lo      回环网卡(127.0.0.1)
</code></pre><p>【系统关机命令】</p>
<pre><code>命令名称：shutdown
英文原意：
所在路径：/usr/sbin/shutdown
执行权限：root
语法：shutdown
功能描述：关机
举例：shutdown -h now（立即关机，真正服务器环境慎用）


命令名称：reboot
英文原意：
所在路径：/usr/sbin/reboot
执行权限：root
语法：reboot
功能描述：重启
举例：reboot
</code></pre><p>【Shell应用技巧】</p>
<pre><code>cat /etc/shells 列出当前系统中的shell

[root@localhost test]# 为bash提示符

命令补全

    输入命令或文件名时，可使用tab键进行补全

    匹配的命令不止一个时，连按两下tab

    当在shell命令行一个字符也没有输入时，连按两下tab，则会提示: Display all 823 possibilities?( y or n)

        因为没有给出任何字符提示，所以shell问要不要把所有可能的commands,files,directories都列出来

        823是上面所有可能的总数，每个系统的这个数字会不同

清屏
    clear命令 或 快捷键 ctrl-l

清除光标前所有字符

    快捷键 ctrl-u

命令历史

    history命令，!加上命令序号可再次执行此命令

    上下箭头可切换执行过的命令

命令别名

    alias命令可显示所有命令的别名

    别名可使命令更容易记忆，如alias copy = cp

    命令别名定义：alias 别名=命令
                  alias 别名=&quot;命令 -选项&quot;
                    带选项时需要双引号括起来
    删除别名：unalias 别名

输入/输出重定向

    同标准I/O一样，Shell对于每一个进程预先定义3个了文件描述字（0、1、2）。分别对应于：
        0    (STDIN)        标准输入；指的是键盘
        1    (STDOUT)    标准输出；指的是显示器
        2    (STDERR)    标准错误输出；指的是显示器

    输出重定向：&gt; 和 &gt;&gt;
        &gt;    将内容 覆盖 输出到指定的设备或文件
        &gt;&gt;    将内容 追加 输出到指定的设备或文件

    输入重定向：&lt;
        如：wall &lt; /hello.msg

    错误输出重定向：2&gt;
        如：cp -R /usr /backup/usr.bak 2&gt; /bak.error
        有无 2&gt;&gt;

    输出到/dev/null表示不处理输出???

        /bin/grep ssl /etc/passwd &gt; /dev/null 2&gt; /dev/null

管道

    将一个命令的输出传送给另一个命令，作为另一个命令的输入。

    使用方法：命令1|命令2|命令3|……

    范例：ls -l /etc | more
          ls -l /etc | grep init
          ls -l /etc | grep init | wc -l

    wc 计数器

        wc -l /etc/services 统计行数

命令连接符

    ;
        用;间隔的各命令按顺序依次执行,执行结果顺序输出，如linux内核编译时可让那几个固定的编译命令顺序执行而无需等待
    &amp;&amp;
        前后命令的执行存在逻辑与关系，只有&amp;&amp;前面的命令执行成功后，它后面的命令才被执行
    ||
        前后命令的执行存在逻辑或关系，只有||前面的命令执行失败后，它后面的命令才被执行

命令替换符

    `
    不是&apos;，是1旁边的那个
    将一个命令的输出作为另一个命令的参数
    格式为：命令1 `命令2`
    举例：ls -l `which touch`    等价于    ls -l /bin/touch

bash

    指的是bashell,位于/bin/bash

    上下箭头可上下翻页已输入过的命令

    命令补全功能：tab键自动补全，包括补全命令和文件等

    Ctrl + l 清屏，等同于clear命令

    Ctrl + u 将光标前的所有字符删除

    history 会记录执行过的所有命令,使用!188可执行188号命令
</code></pre><p>绝对路径：从根开始一级一级进入各子目录，最后指定该命令或文件<br>相对路径：从当前目录为参照点进入某目录</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 安装配置LAMP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Linux - 安装配置LAMP/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>安装PHP</p>
<pre><code>解压
    tar -zxvf php-5.5.11.tar.gz
配置安装变量
    ./configure --prefix=/usr/local/servers/php 
编译
    make
安装
    make install
创建软链接
    ln -s /usr/local/servers/php/bin/php /usr/local/bin/php
</code></pre><p>安装Apache</p>
<pre><code>Extract
    $ gzip -d httpd-NN.tar.gz
    $ tar xvf httpd-NN.tar
    $ cd httpd-NN
Configure
    $ ./configure --prefix=PREFIX
Compile
    $ make
Install
    $ make install
Customize
    $ vi PREFIX/conf/httpd.conf
Test
    $ PREFIX/bin/apachectl -k start
</code></pre><h2 id="Problems"><a href="#Problems" class="headerlink" title="Problems"></a>Problems</h2><p>Apache Portable Runtime (APR)<br>Apache Portable Runtime Utility Library(APR-util)<br>PCRE - Perl Compatible Regular Expressions</p>
<p>mkdir -p</p>
<h2 id="实机安装过程"><a href="#实机安装过程" class="headerlink" title="实机安装过程"></a>实机安装过程</h2><p>$bunzip2 -k httpd-2.4.25.tar.bz2<br>$tar -xf httpd-2.4.25.tar<br>$configure –prefix=/usr/local/apache2.4.25<br>    -bash: configure: command not found<br>$./configure –prefix=/usr/local/apache2.4.25<br>    checking for chosen layout… Apache<br>    checking for working mkdir -p… yes<br>    checking for grep that handles long lines and -e… /bin/grep<br>    checking for egrep… /bin/grep -E<br>    checking build system type… i686-pc-linux-gnu<br>    checking host system type… i686-pc-linux-gnu<br>    checking target system type… i686-pc-linux-gnu<br>    configure:<br>    configure: Configuring Apache Portable Runtime library…<br>    configure:<br>    checking for APR… no<br>    configure: error: APR not found.  Please read the documentation.<br>$wget -P ~ <a href="http://mirrors.hust.edu.cn/apache//apr/apr-1.5.2.tar.gz" target="_blank" rel="noopener">http://mirrors.hust.edu.cn/apache//apr/apr-1.5.2.tar.gz</a><br>$bunzip2 -k ~/apr-1.5.2.tar.gz<br>    bunzip2: Can’t guess original name for /home/ssy/apr-1.5.2.tar.gz – using /home/ssy/apr-1.5.2.tar.gz.out<br>    bunzip2: /home/ssy/apr-1.5.2.tar.gz is not a bzip2 file.<br>$./configure –prefix=/usr/local/apr1.5.2<br>    checking build system type… i686-pc-linux-gnu<br>    checking host system type… i686-pc-linux-gnu<br>    checking target system type… i686-pc-linux-gnu<br>    Configuring APR library<br>    Platform: i686-pc-linux-gnu<br>    checking for working mkdir -p… yes<br>    APR Version: 1.5.2<br>    checking for chosen layout… apr<br>    checking for gcc… no<br>    checking for cc… no<br>    checking for cl.exe… no<br>    configure: error: in <code>/home/ssy/apr-1.5.2&#39;:
    configure: error: no acceptable C compiler found in $PATH
    See</code>config.log’ for more details<br>$rpm -qa|grep gcc<br>    libgcc-4.2<br>$rpm -q gcc<br>    package gcc is not installed<br>$rpm -q libgcc<br>    libgcc-4.4.7-18.el6.i686<br>$yum -y install gcc<br>    解决依赖关系<br>    –&gt; 执行事务检查<br>    —&gt; Package gcc.i686 0:4.4.7-18.el6 will be 安装<br>    –&gt; 处理依赖关系 libgomp = 4.4.7-18.el6，它被软件包 gcc-4.4.7-18.el6.i686 需要<br>    –&gt; 处理依赖关系 cpp = 4.4.7-18.el6，它被软件包 gcc-4.4.7-18.el6.i686 需要<br>    –&gt; 处理依赖关系 glibc-devel &gt;= 2.2.90-12，它被软件包 gcc-4.4.7-18.el6.i686 需要<br>    –&gt; 处理依赖关系 cloog-ppl &gt;= 0.15，它被软件包 gcc-4.4.7-18.el6.i686 需要<br>    –&gt; 处理依赖关系 libgomp.so.1，它被软件包 gcc-4.4.7-18.el6.i686 需要<br>    –&gt; 执行事务检查<br>    —&gt; Package cloog-ppl.i686 0:0.15.7-1.2.el6 will be 安装<br>    –&gt; 处理依赖关系 libppl_c.so.2，它被软件包 cloog-ppl-0.15.7-1.2.el6.i686 需要<br>    –&gt; 处理依赖关系 libppl.so.7，它被软件包 cloog-ppl-0.15.7-1.2.el6.i686 需要<br>    —&gt; Package cpp.i686 0:4.4.7-18.el6 will be 安装<br>    –&gt; 处理依赖关系 libmpfr.so.1，它被软件包 cpp-4.4.7-18.el6.i686 需要<br>    —&gt; Package glibc-devel.i686 0:2.12-1.209.el6_9.1 will be 安装<br>    –&gt; 处理依赖关系 glibc-headers = 2.12-1.209.el6_9.1，它被软件包 glibc-devel-2.12-1.209.el6_9.1.i686 需要<br>    –&gt; 处理依赖关系 glibc = 2.12-1.209.el6_9.1，它被软件包 glibc-devel-2.12-1.209.el6_9.1.i686 需要<br>    –&gt; 处理依赖关系 glibc-headers，它被软件包 glibc-devel-2.12-1.209.el6_9.1.i686 需要<br>    —&gt; Package libgomp.i686 0:4.4.7-18.el6 will be 安装<br>    –&gt; 执行事务检查<br>    —&gt; Package glibc.i686 0:2.12-1.209.el6 will be 升级<br>    –&gt; 处理依赖关系 glibc = 2.12-1.209.el6，它被软件包 glibc-common-2.12-1.209.el6.i686 需要<br>    —&gt; Package glibc.i686 0:2.12-1.209.el6_9.1 will be an update<br>    —&gt; Package glibc-headers.i686 0:2.12-1.209.el6_9.1 will be 安装<br>    –&gt; 处理依赖关系 kernel-headers &gt;= 2.2.1，它被软件包 glibc-headers-2.12-1.209.el6_9.1.i686 需要<br>    –&gt; 处理依赖关系 kernel-headers，它被软件包 glibc-headers-2.12-1.209.el6_9.1.i686 需要<br>    —&gt; Package mpfr.i686 0:2.4.1-6.el6 will be 安装<br>    —&gt; Package ppl.i686 0:0.10.2-11.el6 will be 安装<br>    –&gt; 执行事务检查<br>    —&gt; Package glibc-common.i686 0:2.12-1.209.el6 will be 升级<br>    —&gt; Package glibc-common.i686 0:2.12-1.209.el6_9.1 will be an update<br>    —&gt; Package kernel-headers.i686 0:2.6.32-696.1.1.el6 will be 安装<br>    –&gt; 完成依赖关系计算</p>
<pre><code>依赖关系解决

============================================================================================================================================================
 软件包                                  架构                          版本                                          仓库                              大小
============================================================================================================================================================
正在安装:
 gcc                                     i686                          4.4.7-18.el6                                  base                             8.2 M
为依赖而安装:
 cloog-ppl                               i686                          0.15.7-1.2.el6                                base                              93 k
 cpp                                     i686                          4.4.7-18.el6                                  base                             3.4 M
 glibc-devel                             i686                          2.12-1.209.el6_9.1                            updates                          991 k
 glibc-headers                           i686                          2.12-1.209.el6_9.1                            updates                          628 k
 kernel-headers                          i686                          2.6.32-696.1.1.el6                            updates                          4.5 M
 libgomp                                 i686                          4.4.7-18.el6                                  base                             136 k
 mpfr                                    i686                          2.4.1-6.el6                                   base                             153 k
 ppl                                     i686                          0.10.2-11.el6                                 base                             1.3 M
为依赖而更新:
 glibc                                   i686                          2.12-1.209.el6_9.1                            updates                          4.4 M
 glibc-common                            i686                          2.12-1.209.el6_9.1                            updates                           14 M

事务概要
============================================================================================================================================================
Install       9 Package(s)
Upgrade       2 Package(s)

总下载量：38 M
下载软件包：
(1/11): cloog-ppl-0.15.7-1.2.el6.i686.rpm                                                                                            |  93 kB     00:00     
(2/11): cpp-4.4.7-18.el6.i686.rpm                                                                                                    | 3.4 MB     00:01     
(3/11): gcc-4.4.7-18.el6.i686.rpm                                                                                                    | 8.2 MB     00:04     
http://mirrors.nwsuaf.edu.cn/centos/6.9/updates/i386/Packages/glibc-2.12-1.209.el6_9.1.i686.rpm: [Errno 12] Timeout on http://mirrors.nwsuaf.edu.cn/centos/6.9/updates/i386/Packages/glibc-2.12-1.209.el6_9.1.i686.rpm: (28, &apos;Operation too slow. Less than 1 bytes/sec transfered the last 30 seconds&apos;)
尝试其他镜像。
(4/11): glibc-2.12-1.209.el6_9.1.i686.rpm                                                                                            | 4.4 MB     00:02     
(5/11): glibc-common-2.12-1.209.el6_9.1.i686.rpm                                                                                     |  14 MB     00:08     
(6/11): glibc-devel-2.12-1.209.el6_9.1.i686.rpm                                                                                      | 991 kB     00:00     
(7/11): glibc-headers-2.12-1.209.el6_9.1.i686.rpm                                                                                    | 628 kB     00:00     
http://mirror.lzu.edu.cn/centos/6.9/updates/i386/Packages/kernel-headers-2.6.32-696.1.1.el6.i686.rpm: [Errno 14] PYCURL ERROR 18 - &quot;transfer closed with 4127652 bytes remaining to read&quot;
尝试其他镜像。
http://mirrors.njupt.edu.cn/centos/6.9/updates/i386/Packages/kernel-headers-2.6.32-696.1.1.el6.i686.rpm: [Errno 12] Timeout on http://mirrors.njupt.edu.cn/centos/6.9/updates/i386/Packages/kernel-headers-2.6.32-696.1.1.el6.i686.rpm: (28, &apos;Operation too slow. Less than 1 bytes/sec transfered the last 30 seconds&apos;)
尝试其他镜像。
(8/11): kernel-headers-2.6.32-696.1.1.el6.i686.rpm                                                                                   | 4.5 MB     00:03     
(9/11): libgomp-4.4.7-18.el6.i686.rpm                                                                                                | 136 kB     00:00     
(10/11): mpfr-2.4.1-6.el6.i686.rpm                                                                                                   | 153 kB     00:00     
(11/11): ppl-0.10.2-11.el6.i686.rpm                                                                                                  | 1.3 MB     00:00     
------------------------------------------------------------------------------------------------------------------------------------------------------------
总计                                                                                                                        281 kB/s |  38 MB     02:17     
运行 rpm_check_debug 
执行事务测试
事务测试成功
执行事务
  正在安装   : kernel-headers-2.6.32-696.1.1.el6.i686                                                                                                  1/13 
  正在升级   : glibc-common-2.12-1.209.el6_9.1.i686                                                                                                    2/13 
  正在升级   : glibc-2.12-1.209.el6_9.1.i686                                                                                                           3/13 
  正在安装   : glibc-headers-2.12-1.209.el6_9.1.i686                                                                                                   4/13 
  正在安装   : glibc-devel-2.12-1.209.el6_9.1.i686                                                                                                     5/13 
  正在安装   : libgomp-4.4.7-18.el6.i686                                                                                                               6/13 
  正在安装   : mpfr-2.4.1-6.el6.i686                                                                                                                   7/13 
  正在安装   : cpp-4.4.7-18.el6.i686                                                                                                                   8/13 
  正在安装   : ppl-0.10.2-11.el6.i686                                                                                                                  9/13 
  正在安装   : cloog-ppl-0.15.7-1.2.el6.i686                                                                                                          10/13 
  正在安装   : gcc-4.4.7-18.el6.i686                                                                                                                  11/13 
  清理       : glibc-common-2.12-1.209.el6.i686                                                                                                       12/13 
  清理       : glibc-2.12-1.209.el6.i686                                                                                                              13/13 
  Verifying  : kernel-headers-2.6.32-696.1.1.el6.i686                                                                                                  1/13 
  Verifying  : glibc-devel-2.12-1.209.el6_9.1.i686                                                                                                     2/13 
  Verifying  : libgomp-4.4.7-18.el6.i686                                                                                                               3/13 
  Verifying  : gcc-4.4.7-18.el6.i686                                                                                                                   4/13 
  Verifying  : glibc-2.12-1.209.el6_9.1.i686                                                                                                           5/13 
  Verifying  : glibc-common-2.12-1.209.el6_9.1.i686                                                                                                    6/13 
  Verifying  : mpfr-2.4.1-6.el6.i686                                                                                                                   7/13 
  Verifying  : ppl-0.10.2-11.el6.i686                                                                                                                  8/13 
  Verifying  : cpp-4.4.7-18.el6.i686                                                                                                                   9/13 
  Verifying  : glibc-headers-2.12-1.209.el6_9.1.i686                                                                                                  10/13 
  Verifying  : cloog-ppl-0.15.7-1.2.el6.i686                                                                                                          11/13 
  Verifying  : glibc-common-2.12-1.209.el6.i686                                                                                                       12/13 
  Verifying  : glibc-2.12-1.209.el6.i686                                                                                                              13/13 

已安装:
  gcc.i686 0:4.4.7-18.el6                                                                                                                                   

作为依赖被安装:
  cloog-ppl.i686 0:0.15.7-1.2.el6            cpp.i686 0:4.4.7-18.el6       glibc-devel.i686 0:2.12-1.209.el6_9.1   glibc-headers.i686 0:2.12-1.209.el6_9.1  
  kernel-headers.i686 0:2.6.32-696.1.1.el6   libgomp.i686 0:4.4.7-18.el6   mpfr.i686 0:2.4.1-6.el6                 ppl.i686 0:0.10.2-11.el6                 

作为依赖被升级:
  glibc.i686 0:2.12-1.209.el6_9.1                                           glibc-common.i686 0:2.12-1.209.el6_9.1                                          

完毕！
</code></pre><p>$rpm -i|grep gcc<br>    rpm: no packages given for install<br>$rpm -qi|grep gcc<br>    rpm: no arguments given for query<br>$rpm -qa|grep gcc<br>    libgcc-4.4.7-18.el6.i686<br>    gcc-4.4.7-18.el6.i686<br>$./configure –prefix=/usr/local/apr-1.5.2<br>    checking build system type… i686-pc-linux-gnu<br>    checking host system type… i686-pc-linux-gnu<br>    checking target system type… i686-pc-linux-gnu<br>    Configuring APR library<br>    Platform: i686-pc-linux-gnu<br>    checking for working mkdir -p… yes<br>    APR Version: 1.5.2<br>    checking for chosen layout… apr<br>    checking for gcc… gcc<br>    checking whether the C compiler works… yes<br>    checking for C compiler default output file name… a.out<br>    checking for suffix of executables…<br>    checking whether we are cross compiling… no<br>    checking for suffix of object files… o<br>    …………………………………………<br>    …………………………………………<br>    ………………好多checking………………………<br>    …………………………………………<br>    …………………………………………<br>    checking for working getaddrinfo… yes<br>    checking for negative error codes for getaddrinfo… yes<br>    checking for working getnameinfo… yes<br>    checking for sockaddr_in6… yes<br>    checking for sockaddr_storage… yes<br>    checking for working AI_ADDRCONFIG… yes<br>    checking if APR supports IPv6… yes<br>    checking langinfo.h usability… yes<br>    checking langinfo.h presence… yes<br>    checking for langinfo.h… yes<br>    checking for nl_langinfo… yes<br>      setting have_unicode_fs to “0”<br>      setting apr_has_xthread_files to “0”<br>      setting apr_procattr_user_set_requires_password to “0”<br>      setting apr_thread_func to “”<br>      setting apr_has_user to “1”</p>
<pre><code>Restore user-defined environment settings...
  restoring CPPFLAGS to &quot;&quot;
  setting EXTRA_CPPFLAGS to &quot;-DLINUX -D_REENTRANT -D_GNU_SOURCE -D_LARGEFILE64_SOURCE&quot;
  restoring CFLAGS to &quot;&quot;
  setting EXTRA_CFLAGS to &quot;-g -O2 -pthread&quot;
  restoring LDFLAGS to &quot;&quot;
  setting EXTRA_LDFLAGS to &quot;&quot;
  restoring LIBS to &quot;&quot;
  setting EXTRA_LIBS to &quot;-lrt -lcrypt  -lpthread&quot;
  restoring INCLUDES to &quot;&quot;
  setting EXTRA_INCLUDES to &quot;&quot;
configure: creating ./config.status
config.status: creating Makefile
config.status: creating include/apr.h
config.status: creating build/apr_rules.mk
config.status: creating build/pkg/pkginfo
config.status: creating apr-1-config
config.status: creating apr.pc
config.status: creating test/Makefile
config.status: creating test/internal/Makefile
config.status: creating include/arch/unix/apr_private.h
config.status: executing libtool commands
rm: cannot remove `libtoolT&apos;: No such file or directory
config.status: executing default commands
</code></pre><p>$make<br>    make[1]: Entering directory <code>/home/ssy/apr-1.5.2&#39;
    /home/ssy/apr-1.5.2/build/mkdir.sh tools
    /bin/sh /home/ssy/apr-1.5.2/libtool --silent --mode=compile gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE -D_LARGEFILE64_SOURCE   -I./include -I/home/ssy/apr-1.5.2/include/arch/unix -I./include/arch/unix -I/home/ssy/apr-1.5.2/include/arch/unix -I/home/ssy/apr-1.5.2/include -I/home/ssy/apr-1.5.2/include/private -I/home/ssy/apr-1.5.2/include/private  -o tools/gen_test_char.lo -c tools/gen_test_char.c &amp;&amp; touch tools/gen_test_char.lo
    /bin/sh /home/ssy/apr-1.5.2/libtool --silent --mode=link gcc -g -O2 -pthread   -DHAVE_CONFIG_H  -DLINUX -D_REENTRANT -D_GNU_SOURCE -D_LARGEFILE64_SOURCE   -I./include -I/home/ssy/apr-1.5.2/include/arch/unix -I./include/arch/unix -I/home/ssy/apr-1.5.2/include/arch/unix -I/home/ssy/apr-1.5.2/include -I/home/ssy/apr-1.5.2/include/private -I/home/ssy/apr-1.5.2/include/private   -no-install    -o tools/gen_test_char tools/gen_test_char.lo    -lrt -lcrypt  -lpthread
    /home/ssy/apr-1.5.2/build/mkdir.sh include/private
    tools/gen_test_char &gt; include/private/apr_escape_test_char.h
    ……………………………………
    ……………………………………
    ……………………………………
    ……………………………………
    make[1]: Leaving directory</code>/home/ssy/apr-1.5.2’<br>$make install<br>    make[1]: Entering directory <code>/home/ssy/apr-1.5.2&#39;
    make[1]: Nothing to be done for</code>local-all’.<br>    make[1]: Leaving directory <code>/home/ssy/apr-1.5.2&#39;
    /home/ssy/apr-1.5.2/build/mkdir.sh /usr/local/apr-1.5.2/lib /usr/local/apr-1.5.2/bin /usr/local/apr-1.5.2/build-1 \
                 /usr/local/apr-1.5.2/lib/pkgconfig /usr/local/apr-1.5.2/include/apr-1
    mkdir /usr/local/apr-1.5.2
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2&quot;: 权限不够
    mkdir /usr/local/apr-1.5.2/lib
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2/lib&quot;: 没有那个文件或目录
    mkdir /usr/local/apr-1.5.2
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2&quot;: 权限不够
    mkdir /usr/local/apr-1.5.2/bin
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2/bin&quot;: 没有那个文件或目录
    mkdir /usr/local/apr-1.5.2
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2&quot;: 权限不够
    mkdir /usr/local/apr-1.5.2/build-1
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2/build-1&quot;: 没有那个文件或目录
    mkdir /usr/local/apr-1.5.2
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2&quot;: 权限不够
    mkdir /usr/local/apr-1.5.2/lib
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2/lib&quot;: 没有那个文件或目录
    mkdir /usr/local/apr-1.5.2/lib/pkgconfig
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2/lib/pkgconfig&quot;: 没有那个文件或目录
    mkdir /usr/local/apr-1.5.2
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2&quot;: 权限不够
    mkdir /usr/local/apr-1.5.2/include
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2/include&quot;: 没有那个文件或目录
    mkdir /usr/local/apr-1.5.2/include/apr-1
    mkdir: 无法创建目录&quot;/usr/local/apr-1.5.2/include/apr-1&quot;: 没有那个文件或目录
    make: *** [install] 错误 1
$sudo make install
password for ssy: 
    make[1]: Entering directory</code>/home/ssy/apr-1.5.2’<br>    make[1]: Nothing to be done for <code>local-all&#39;.
    make[1]: Leaving directory</code>/home/ssy/apr-1.5.2’<br>    /home/ssy/apr-1.5.2/build/mkdir.sh /usr/local/apr-1.5.2/lib /usr/local/apr-1.5.2/bin /usr/local/apr-1.5.2/build-1 \<br>                 /usr/local/apr-1.5.2/lib/pkgconfig /usr/local/apr-1.5.2/include/apr-1<br>    mkdir /usr/local/apr-1.5.2<br>    mkdir /usr/local/apr-1.5.2/lib<br>    mkdir /usr/local/apr-1.5.2/bin<br>    mkdir /usr/local/apr-1.5.2/build-1<br>    mkdir /usr/local/apr-1.5.2/lib/pkgconfig<br>    mkdir /usr/local/apr-1.5.2/include<br>    mkdir /usr/local/apr-1.5.2/include/apr-1<br>    /usr/bin/install -c -m 644 /home/ssy/apr-1.5.2/include/apr.h /usr/local/apr-1.5.2/include/apr-1<br>    for f in /home/ssy/apr-1.5.2/include/apr_*.h; do \<br>            /usr/bin/install -c -m 644 ${f} /usr/local/apr-1.5.2/include/apr-1; \<br>        done<br>    /bin/sh /home/ssy/apr-1.5.2/libtool –mode=install /usr/bin/install -c -m 755 libapr-1.la /usr/local/apr-1.5.2/lib<br>    libtool: install: /usr/bin/install -c -m 755 .libs/libapr-1.so.0.5.2 /usr/local/apr-1.5.2/lib/libapr-1.so.0.5.2<br>    libtool: install: (cd /usr/local/apr-1.5.2/lib &amp;&amp; { ln -s -f libapr-1.so.0.5.2 libapr-1.so.0 || { rm -f libapr-1.so.0 &amp;&amp; ln -s libapr-1.so.0.5.2 libapr-1.so.0; }; })<br>    libtool: install: (cd /usr/local/apr-1.5.2/lib &amp;&amp; { ln -s -f libapr-1.so.0.5.2 libapr-1.so || { rm -f libapr-1.so &amp;&amp; ln -s libapr-1.so.0.5.2 libapr-1.so; }; })<br>    libtool: install: /usr/bin/install -c -m 755 .libs/libapr-1.lai /usr/local/apr-1.5.2/lib/libapr-1.la<br>    libtool: install: /usr/bin/install -c -m 755 .libs/libapr-1.a /usr/local/apr-1.5.2/lib/libapr-1.a<br>    libtool: install: chmod 644 /usr/local/apr-1.5.2/lib/libapr-1.a<br>    libtool: install: ranlib /usr/local/apr-1.5.2/lib/libapr-1.a</p>
<pre><code>libtool: finish: PATH=&quot;/sbin:/bin:/usr/sbin:/usr/bin:/sbin&quot; ldconfig -n /usr/local/apr-1.5.2/lib
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/local/apr-1.5.2/lib

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR&apos;
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH&apos; environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH&apos; environment variable
     during linking
   - use the `-Wl,-rpath -Wl,LIBDIR&apos; linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf&apos;

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------
/usr/bin/install -c -m 644 apr.exp /usr/local/apr-1.5.2/lib/apr.exp
/usr/bin/install -c -m 644 apr.pc /usr/local/apr-1.5.2/lib/pkgconfig/apr-1.pc
for f in libtool shlibtool; do \
        if test -f ${f}; then /usr/bin/install -c -m 755 ${f} /usr/local/apr-1.5.2/build-1; fi; \
    done
/usr/bin/install -c -m 755 /home/ssy/apr-1.5.2/build/mkdir.sh /usr/local/apr-1.5.2/build-1
for f in make_exports.awk make_var_export.awk; do \
        /usr/bin/install -c -m 644 /home/ssy/apr-1.5.2/build/${f} /usr/local/apr-1.5.2/build-1; \
    done
/usr/bin/install -c -m 644 build/apr_rules.out /usr/local/apr-1.5.2/build-1/apr_rules.mk
/usr/bin/install -c -m 755 apr-config.out /usr/local/apr-1.5.2/bin/apr-1-config
</code></pre><p>$rpm -q apr<br>    package apr is not installed                                                #####不是rpm安装，编译源代码安装的没有检测到<br>$rpm -qa|grep apr<br>    空<br>$./configure prefix=/usr/local/httpd-2.4.25 –with-apr=/usr/local/apr-1.5.2     ####安装上还提示找不到APR，指定路径<br>    checking for chosen layout… Apache<br>    checking for working mkdir -p… yes<br>    checking for grep that handles long lines and -e… /bin/grep<br>    checking for egrep… /bin/grep -E<br>    checking build system type… i686-pc-linux-gnu<br>    checking host system type… i686-pc-linux-gnu<br>    checking target system type… i686-pc-linux-gnu<br>    configure:<br>    configure: Configuring Apache Portable Runtime library…<br>    configure:<br>    checking for APR… yes<br>      setting CC to “gcc”<br>      setting CPP to “gcc -E”<br>      setting CFLAGS to “ -g -O2 -pthread”<br>      setting CPPFLAGS to “ -DLINUX -D_REENTRANT -D_GNU_SOURCE -D_LARGEFILE64_SOURCE”<br>      setting LDFLAGS to “ “<br>    configure:<br>    configure: Configuring Apache Portable Runtime Utility library…<br>    configure:<br>    checking for APR-util… no<br>    configure: error: APR-util not found.  Please read the documentation.<br>$tar -xvf apr-util-1.5.4.tar.gz<br>    ………………<br>$./configure prefix=/usr/local/apr-util-1.5.4 –with-apr=/usr/local/apr-1.5.2<br>    ………………<br>$make<br>    ………………<br>$sudo make install<br>    ………………<br>[ssy@localhost ~/pcre-8.00]$./configure –prefix=/usr/local/pcre-8.00<br>    ………………<br>[ssy@localhost ~/pcre-8.00]$make distclean          ###pcre版本安装的低了<br>     rm -f pcretest pcretest<br>     rm -f pcregrep pcregrep<br>    test -z “pcre_chartables.c testsavedregex teststderr testtry testNinput” || rm -f pcre_chartables.c testsavedregex teststderr testtry testNinput<br>    test -z “libpcre.la libpcreposix.la libpcrecpp.la” || rm -f libpcre.la libpcreposix.la libpcrecpp.la<br>    rm -f “./so_locations”<br>    rm -f “./so_locations”<br>    rm -f “./so_locations”<br>    rm -rf .libs _libs<br>     rm -f pcrecpp_unittest pcrecpp_unittest<br>     rm -f pcre_scanner_unittest pcre_scanner_unittest<br>     rm -f pcre_stringpiece_unittest pcre_stringpiece_unittest<br>    rm -f <em>.o<br>    rm -f </em>.lo<br>    rm -f <em>.tab.c<br>    test -z “libpcre.pc libpcreposix.pc libpcrecpp.pc pcre-config pcre.h pcre_stringpiece.h pcrecpparg.h” || rm -f libpcre.pc libpcreposix.pc libpcrecpp.pc pcre-config pcre.h pcre_stringpiece.h pcrecpparg.h<br>    rm -f config.h stamp-h1<br>    rm -f libtool config.lt<br>    rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags<br>    rm -f config.status config.cache config.log configure.lineno config.status.lineno<br>    rm -rf ./.deps<br>    rm -f Makefile<br>[ssy@localhost ~/pcre-8.00]$make distclean<br>    make: **</em> 没有规则可以创建目标“distclean”。 停止。<br>[ssy@localhost ~/pcre-8.00]$gmake confclean<br>    gmake: <em>*</em> 没有规则可以创建目标“confclean”。 停止。<br>[ssy@localhost ~/pcre-8.40]$./configure –prefix=/usr/local/pcre-8.40<br>    ……………………<br>    ……………………<br>    configure: error: You need a C++ compiler for C++ support.<br>[ssy@localhost ~/pcre-8.40]$sudo yum -y install gcc-c++<br>    已安装:<br>    gcc-c++.i686 0:4.4.7-18.el6                                                                                                                               作为依赖被安装:<br>    libstdc++-devel.i686 0:4.4.7-18.el6<br>[ssy@localhost ~/pcre-8.40]$./configure –prefix=/usr/local/pcre-8.40<br>    ………………………………<br>    ………………………………<br>[ssy@localhost ~/pcre-8.40]$sudo make &amp; sudo make install<br>    libtool: warning: relinking ‘libpcreposix.la’</p>
<p>=======================Apache完成=================================</p>
<p>[ssy@localhost ~/php-7.1.5]$./configure –prefix=/usr/local/php-7.1.5<br>    ………………………………<br>    ………………………………<br>    configure: error: xml2-config not found. Please check your libxml2 installation.<br>[ssy@localhost ~/php-7.1.5]$sudo yum -y install libxml2<br>    包 libxml2-2.7.6-21.el6_8.1.i686 已安装并且是最新版本<br>    无须任何处理<br>[ssy@localhost ~/php-7.1.5]$rpm -qa | grep xml<br>    libxml2-2.7.6-21.el6_8.1.i686<br>[ssy@localhost ~/php-7.1.5]$yum list|grep libxml2<br>    libxml2.i686                               2.7.6-21.el6_8.1              @anaconda-CentOS-201703281202.i386/6.9<br>    libxml2-devel.i686                         2.7.6-21.el6_8.1              base<br>    libxml2-python.i686                        2.7.6-21.el6_8.1              base<br>    libxml2-static.i686                        2.7.6-21.el6_8.1              base<br>[ssy@localhost ~/php-7.1.5]$sudo yum -y install libxml2-devel<br>    已安装:<br>      libxml2-devel.i686 0:2.7.6-21.el6_8.1<br>    作为依赖被安装:<br>      zlib-devel.i686 0:1.2.3-29.el6<br>[ssy@localhost ~/php-7.1.5]$sudo find / -name ‘xml2-config’<br>    /usr/bin/xml2-config         ###虽然libxml2相关有4个安装包，</p>
<pre><code>###且提示的是libxml2安装包，
###但装完libxml2-devel后，原来提示找不到的文件xml2-config已找到
</code></pre><p>[ssy@localhost ~/php-7.1.5]$./configure –prefix=/usr/local/php-7.1.5<br>    Build complete.<br>    Don’t forget to run ‘make test’.<br>[ssy@localhost ~/php-7.1.5]$make test<br>    ……………………………………………………</p>
<pre><code>……………………………………………………
=====================================================================
TEST RESULT SUMMARY
---------------------------------------------------------------------
Exts skipped    :   48
Exts tested     :   26
---------------------------------------------------------------------

Number of tests : 15366             10253
Tests skipped   : 5113 ( 33.3%) --------
Tests warned    :    0 (  0.0%) (  0.0%)
Tests failed    :    5 (  0.0%) (  0.0%)
Expected fail   :   35 (  0.2%) (  0.3%)
Tests passed    : 10213 ( 66.5%) ( 99.6%)
---------------------------------------------------------------------
Time taken      : 10633 seconds
=====================================================================

=====================================================================
EXPECTED FAILED TEST SUMMARY
---------------------------------------------------------------------
Test open_basedir configuration [tests/security/open_basedir_linkinfo.phpt]  XFAIL REASON: BUG: open_basedir cannot delete symlink to prohibited file. See also
bugs 48111 and 52176.

=====================================================================
FAILED TEST SUMMARY
---------------------------------------------------------------------
Concatenating many small strings should not slowdown allocations [Zend/tests/concat_003.phpt]
array dns_get_record ( string $hostname [, int $type = DNS_ANY [, array &amp;$authns [, array &amp;$addtl [, bool &amp;$raw = false ]]]] ); [ext/standard/tests/dns_get_record.phpt]
Bug #60120 proc_open hangs with stdin/out with 2048+ bytes [ext/standard/tests/streams/proc_open_bug60120.phpt]
Bug #64438 proc_open hangs with stdin/out with 4097+ bytes [ext/standard/tests/streams/proc_open_bug64438.phpt]
Bug #69900 Commandline input/output weird behaviour with STDIO [ext/standard/tests/streams/proc_open_bug69900.phpt]
=====================================================================

###make test 就是 PHP 的自动化测试
###会出现许多 skip 和 fail 说明有一些扩展没有安装，相关环境的配置也需要优化
###经测试，make test之后就无需make了，再make时还是会提示要make test，不知可否跳过make test，直接make install
</code></pre><p>[ssy@localhost ~/php-7.1.5]$sudo make install</p>
<p>============================PHP安装完成了===============================================</p>
<p>============================开始安装MySQL===============================================</p>
<p>版本：<br>    只有Community版本MySQL是免费的</p>
<p>两种包：<br>    RPM BUNDLE  是把MySQL的所有RPM包都包括了</p>
<pre><code>RPM PACKAGE 没个MySQL部件一个包，安装哪个下载哪个
    如mysql-community-devel-5.7.18-1.el6.i686.rpm是开发库包devel---development library
</code></pre><p>MySQL最基础安装需要四个MySQL包：</p>
<pre><code>common
    完整名：RPM Package, MySQL Configuration
    文件名：mysql-community-common-5.7.18-1.el6.i686.rpm
lib
    完整名：RPM Package, Shared Libraries
    文件名：mysql-community-libs-5.7.18-1.el6.i686.rpm
    注：是Shared Libraries，不是Development Libraries
client
    完整名：RPM Package, Client Utilities
    文件名：mysql-community-client-5.7.18-1.el6.i686.rpm
server
    完整名：RPM Package, MySQL Server
    文件名：mysql-community-server-5.7.18-1.el6.i686.rpm
</code></pre><p>还额外需要两个其他包：</p>
<pre><code>per

numactl - 用于控制 进程与共享存储的 NUMA 技术机制
</code></pre><p>依赖关系如下：</p>
<pre><code>common&lt;-lib&lt;-client&lt;-server
            numactl&lt;-
                per&lt;-
</code></pre><p>所以安装顺序：</p>
<pre><code>[ssy@localhost ~/mysql]$sudo rpm -ivh mysql-community-common-5.7.18-1.el6.i686.rpm 
[ssy@localhost ~/mysql]$sudo rpm -ivh mysql-community-libs-5.7.18-1.el6.i686.rpm 
[ssy@localhost ~/mysql]$sudo rpm -ivh mysql-community-client-5.7.18-1.el6.i686.rpm 
[ssy@localhost ~/mysql]$sudo rpm -ivh mysql-community-server-5.7.18-1.el6.i686.rpm 
[ssy@localhost ~/mysql]$sudo yum -y install numactl
[ssy@localhost ~/mysql]$sudo yum -y install perl

试一下本地yum，让yum自己解决依赖关系：

[ssy@localhost ~/mysql]$sudo yum localinstall MySQL-server-5.6.21-1.el6.i686.rpm
</code></pre><p>安装时会提示NOKEY，不过不影响安装</p>
<pre><code>rpm -ivh mysql-community-common-5.7.18-1.el6.i686.rpm
    warning: mysql-community-server-5.7.18-1.el6.i686.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY
</code></pre><p>主动去验证签名也出错</p>
<pre><code>rpm -K mysql-community-common-5.7.18-1.el6.i686.rpm
    mysql-community-common-5.7.18-1.el6.i686.rpm: (SHA1) DSA sha1 md5 (GPG) NOT OK (MISSING KEYS: GPG#5072e1f5) 
</code></pre><p>导入公钥到GPG库</p>
<pre><code>1、
    从上面的提示知道：MySQL的公钥ID是5072e1f5
    可从http://pgp.mit.edu/找到MySQL的公钥：
        命名的键为：mysql-build@oss.oracle.com
        公钥ID为：5072E1F5
        标注为：selfsig
    找到后复制到剪贴板，执行命令

    [ssy@localhost ~/mysql]$touch mysql_pubkey.asc 
        #建立公钥文件
    [ssy@localhost ~/mysql]$vi mysql_pubkey.asc 
        #粘贴从网上下载的公共秘钥
    [ssy@localhost ~/mysql]$gpg --import mysql_pubkey.asc 
        gpg: /home/ssy/.gnupg/trustdb.gpg：建立了信任度数据库
        gpg: 密钥 5072E1F5：公钥“MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;”已导入
        gpg: 合计被处理的数量：1
        gpg:           已导入：1
        gpg: 没有找到任何绝对信任的密钥
2、
    [ssy@localhost ~/mysql]$gpg --recv-keys 5072E1F5
        gpg: 下载密钥‘5072E1F5’，从 hkp 服务器 keys.gnupg.net
        gpg: 公钥服务器超时
        gpg: 从公钥服务器接收失败：Keyserver error
</code></pre><p>把公钥导入到RPM</p>
<pre><code>1、从文件导入

    没有公钥文件，则从PGP库导出到文件

        [ssy@localhost ~/mysql]$sudo gpg --export -a 5072e1f5 &gt; 5072e1f5.asc

    rpm从公钥文件导入
        [ssy@localhost ~/mysql]$sudo rpm --import 5072e1f5.asc
        #导入成功没有提示，出错才提示

2、通过URL导入

    [ssy@localhost ~/mysql]$rpm --import http://dev.mysql.com/doc/refman/5.7/en/checking-gpg-signature.html
</code></pre><p>公钥导入RPM后再次验证OK</p>
<pre><code>[ssy@localhost ~/mysql]$rpm -K mysql-community-common-5.7.18-1.el6.i686.rpm 
    mysql-community-common-5.7.18-1.el6.i686.rpm: (sha1) dsa sha1 md5 gpg OK
</code></pre><p>=====================mysql配置======================</p>
<p>mysql安装过程中创建了名为’mysql’的用户和名为’mysql’的用户组</p>
<p>mysql安装成功后服务已自动运行</p>
<p>查看进程</p>
<pre><code>[ssy@localhost ~]$ ps -le | grep mysql
    4 S     0  1255     1  0  80   0 -  1568 ?      ?        00:00:00 mysqld_safe
    4 S    27  1479  1255  4  80   0 - 154200 ?     ?        00:29:15 mysqld
</code></pre><p>查看端口</p>
<pre><code>[ssy@localhost ~]$ sudo netstat -tunlp
    Active Internet connections (only servers)
    Proto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name   
    tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      1108/sshd           
    tcp        0      0 :::3306                     :::*                        LISTEN      1479/mysqld         
    tcp        0      0 :::22                       :::*                        LISTEN      1108/sshd           
    udp        0      0 0.0.0.0:68                  0.0.0.0:*                               958/dhclient        
[ssy@localhost ~]$ sudo netstat -tunlp | grep mysql
    tcp        0      0 :::3306                     :::*                        LISTEN      1479/mysqld         
</code></pre><p>mysql为root创建了临时密码，写入到了日志文件里/var/log/mysqld.log</p>
<pre><code>[ssy@localhost ~]$ vi /var/log/mysqld.log
    2017-05-22T22:39:51.124727Z 1 [Note] A temporary password is generated for root@localhost: fH_hdqJDS9rh
</code></pre><p>先使用root账号和临时密码登录mysql</p>
<pre><code>[ssy@localhost ~]$ mysql -u root -pfH_hdqJDS9rh
    mysql: [Warning] Using a password on the command line interface can be insecure.
</code></pre><p>然后发现执行什么命令都提示你改密码</p>
<pre><code>mysql&gt; select 1;
ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.
</code></pre><p>修改的密码需要符合安全规范</p>
<pre><code>mysql&gt; alter user &apos;root&apos;@&apos;localhost&apos; identified by &apos;123798&apos;;
ERROR 1819 (HY000): Your password does not satisfy the current policy requirements
</code></pre><p>改为复杂密码，注意是修改root账号的密码，不是mysql账号的密码</p>
<pre><code>mysql&gt; alter user &apos;root&apos;@&apos;localhost&apos; identified by  &apos;(Shen99$)&apos;;
Query OK, 0 rows affected (0.01 sec)
</code></pre><p>可以执行了</p>
<pre><code>mysql&gt; select 1;
+---+
| 1 |
+---+
| 1 |
+---+
1 row in set (0.00 sec)
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 安装SSH服务/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Linux - 安装SSH服务/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>��ѯ�Ƿ�װssh<br>rpm -qa | grep ssh</p>
<p>����SSH����<br>service sshd restart</p>
<p>�鿴�Ƿ���22�˿�<br>netstat -antp | grep sshd</p>
<p>����ssh���񿪻���<br>chkconfig sshd on </p>
<p>chkconfig<br>��ѯ������ϵͳ��������м�����Ϣ<br>ʵ�ʲ���������Щ���ļ��У�/etc/rc[0-6].d</p>
<p>��������ǰ��@���Ǻ�������</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 包/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/Linux - 包/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Linux-主要提供三种格式的mysql包："><a href="#Linux-主要提供三种格式的mysql包：" class="headerlink" title="Linux 主要提供三种格式的mysql包："></a>Linux 主要提供三种格式的mysql包：</h2><pre><code>rpm格式、二进制格式、源码格式：（tar打包，gz压缩）
</code></pre><h2 id="rpm格式："><a href="#rpm格式：" class="headerlink" title="rpm格式： "></a>rpm格式： </h2><pre><code>libjpeg-devel-6b-33.x86_64.rpm        #rpm格式很好区分，

RPM 又分两种：binary rpm 跟 source rpm 。 
前者是编好的 binary ，安装就可用。 
后者是还没编好的 source ，需 rebuild 之后才能安装

yum其实就是由yum自动判断rpm包的依赖，然后一次性把所有需要安装的N个rpm统一下载安装，其实原理和一个个的安装rpm没有什么本质区别。
</code></pre><h2 id="二进制包："><a href="#二进制包：" class="headerlink" title="二进制包： "></a>二进制包： </h2><pre><code>mysql-3.23.58-pc-linux-i686.tar.gz   

二进制格式的包名字很长，有版本号、适应平台、适应的硬件类型等，格式：mysql-&lt;版本&gt;-&lt;OS&gt;-tar.gz

二进制包里面包括了已经经过编译，可以马上运行的程序。你只需要下载和解包（安装）它们以后，就马上可以使用。
</code></pre><h2 id="源码包："><a href="#源码包：" class="headerlink" title="源码包：    "></a>源码包：    </h2><pre><code>php-5.2.14.tar.gz                   

而源码格式仅仅就是一个版本号的tar包。

源码的安装一般由3个步骤组成：配置(configure)、编译(make)、安装(make install)。

Configure是一个可执行脚本，它有很多选项，在待安装的源码路径下使用命令./configure –help输出详细的选项列表。

其中--prefix选项是配置安装的路径，如果不配置该选项，安装后
    可执行文件默认放在/usr/local/bin，
    库文件默认放在/usr/local/lib，
    配置文件默认放在/usr/local/etc，
    其它的资源文件放在/usr/local/share
比较凌乱。

如果配置--prefix，如：./configure --prefix=/usr/local/test
可以把所有资源文件放在/usr/local/test的路径中，不会杂乱。

用了—prefix选项的另一个好处是卸载软件或移植软件。
当某个安装的软件不再需要时，只须简单的删除该安装目录，就可以把软件卸载得干干净净；移植软件只需拷贝整个目录到另外一个机器即可（相同的操作系统）。

当然要卸载程序，也可以在原来的make目录下用一次make uninstall，但前提是make文件指定过uninstall。
</code></pre><h2 id="file命令"><a href="#file命令" class="headerlink" title="file命令 "></a>file命令 </h2><p>Linux下有个命令叫file，因为Linux并不是按照后缀名来判断文件类型的。所以一般在不清楚文件到底是什么类型的时候，就用file这个命令去判断。</p>
<p>#file php-5.2.14.tar.gz<br>    php-5.2.14.tar.gz: gzip compressed data, was “php-5.2.14.tar”, from Unix, last modified: Wed Jul 21 22:32:34 2010, max compression</p>
<p>这个php-5.2.14.tar.gz 明显是个gzip的压缩包，这样的文件一般都是用tar zxvf 命令去解包然后去配置编译安装的，通常情况把这种安装方法叫做源码编译安装。</p>
<p>#file libjpeg-devel-6b-33.x86_64.rpm<br>    libjpeg-devel-6b-33.x86_64.rpm: RPM v3 bin i386 libjpeg-devel-6b-33</p>
<p>这个libjpeg-devel-6b-33.x86_64.rpm 文件，就是个标准的redhat系列发行版本所用的RPM格式软件包。一般在RHEL、CentOS、SUSE、OracleLinux下都可以安装类似的RPM包。标准的安装方法是rpm -ivh。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">shenlin</p>
              <p class="site-description motion-element" itemprop="description">A Programmer's Blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">140</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">60</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">shenlin</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
