<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="linux 网络设置标签（空格分隔）： AAA linux ifconfig  http://www.cnblogs.com/Jtianlin/p/4655831.htmlhttp://xtbao.blog.51cto.com/7482722/1671739http://www.iyunv.com/thread-269695-1-1.htmlhttp://www.linuxidc.com/Linu">
<meta property="og:type" content="article">
<meta property="og:title" content="shenlin&#39;s blog">
<meta property="og:url" content="http://www.shenlin.ltd/2017/11/19/Linux - 网络设置/index.html">
<meta property="og:site_name" content="shenlin&#39;s blog">
<meta property="og:description" content="linux 网络设置标签（空格分隔）： AAA linux ifconfig  http://www.cnblogs.com/Jtianlin/p/4655831.htmlhttp://xtbao.blog.51cto.com/7482722/1671739http://www.iyunv.com/thread-269695-1-1.htmlhttp://www.linuxidc.com/Linu">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-11-19T07:25:35.553Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="shenlin&#39;s blog">
<meta name="twitter:description" content="linux 网络设置标签（空格分隔）： AAA linux ifconfig  http://www.cnblogs.com/Jtianlin/p/4655831.htmlhttp://xtbao.blog.51cto.com/7482722/1671739http://www.iyunv.com/thread-269695-1-1.htmlhttp://www.linuxidc.com/Linu">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.shenlin.ltd/2017/11/19/Linux - 网络设置/"/>





  <title> | shenlin's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">shenlin's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">what the fuck?!</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/11/19/Linux - 网络设置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline"></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T15:25:35+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="linux-网络设置"><a href="#linux-网络设置" class="headerlink" title="linux 网络设置"></a>linux 网络设置</h1><p>标签（空格分隔）： AAA linux ifconfig</p>
<hr>
<p><a href="http://www.cnblogs.com/Jtianlin/p/4655831.html" target="_blank" rel="noopener">http://www.cnblogs.com/Jtianlin/p/4655831.html</a><br><a href="http://xtbao.blog.51cto.com/7482722/1671739" target="_blank" rel="noopener">http://xtbao.blog.51cto.com/7482722/1671739</a><br><a href="http://www.iyunv.com/thread-269695-1-1.html" target="_blank" rel="noopener">http://www.iyunv.com/thread-269695-1-1.html</a><br><a href="http://www.linuxidc.com/Linux/2013-08/88809.htm" target="_blank" rel="noopener">http://www.linuxidc.com/Linux/2013-08/88809.htm</a></p>
<h2 id="网络基本命令"><a href="#网络基本命令" class="headerlink" title="网络基本命令"></a>网络基本命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//网卡信息配置文件</span><br><span class="line">$ sudo vi /etc/udev/rules.d/70-persistent-net.rules</span><br><span class="line"></span><br><span class="line"># PCI device 0x8086:0x100f (e1000)</span><br><span class="line">SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR&#123;address&#125;==&quot;eth0-MAC&quot;, ATTR&#123;type&#125;==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth0&quot;</span><br><span class="line"></span><br><span class="line"># PCI device 0x8086:0x100f (e1000)</span><br><span class="line">SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR&#123;address&#125;==&quot;eth1-MAC&quot;, ATTR&#123;type&#125;==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth1&quot;</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">$ sudo vi /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"></span><br><span class="line">//查看所有网卡</span><br><span class="line">$ ifconfig -a</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">$ ifconfig eth0</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">$ sudo ifup ifcfg-eth0</span><br></pre></td></tr></table></figure>
<p>windows 网络命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -ano | findstr 2222</span><br></pre></td></tr></table></figure></p>
<h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; ps -ef|grep httpd</span><br><span class="line">ssy       2001  1546 21 10:37 pts/1    00:00:00 grep httpd</span><br><span class="line"></span><br><span class="line">&gt;&gt; netstat -le</span><br><span class="line"></span><br><span class="line">&gt;&gt; service httpd status</span><br><span class="line">httpd: 未被识别的服务</span><br><span class="line"></span><br><span class="line">&gt;&gt; sudo /usr/local/httpd-2.4.25/bin/apachectl start</span><br></pre></td></tr></table></figure>
<h2 id="VirtualBox-导致的问题"><a href="#VirtualBox-导致的问题" class="headerlink" title="VirtualBox 导致的问题"></a>VirtualBox 导致的问题</h2><p>device eth0 does not seem to present</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; ifconfig eth3</span><br><span class="line">eth3: error fetching interface information: Device not found</span><br></pre></td></tr></table></figure>
<p>在KVM中克隆出新的CentOS虚拟机时，出现如下问题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service network restart</span><br><span class="line">Shutting down loopback insterface: [ OK ]</span><br><span class="line">Bringing up loopback insterface: [ OK ]</span><br><span class="line">Bringing up interface eth0: Device eth0 does not seem to be present,delaying initialization. [FAILED]</span><br></pre></td></tr></table></figure></p>
<p>用ifconfig查看发现缺少eth0，只有lo；用ifconfig -a查看发现多出了eth1的信息。</p>
<p>解决办法1：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv /etc/sysconfig/network-scripts/ifcfg-eth0  /etcsysconfig/network-scripts/ifcfg-eth1</span><br></pre></td></tr></table></figure></p>
<p>将eth0的mac地址改为eth1的mac地址，同时改变其DEVICE名称为eth1，再重启网络即可。</p>
<p>解决办法2：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /etc/udev/rules.d/70-persistent-net.rules</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure></p>
<p>总之，只要保证/etc/sysconfig/network-scripts/ifcfg-eth0 与/etc/udev/rules.d/70-persistent-net.rules的信息一致即可，即网卡地址与网卡编号一致，这样service network restart 就可以配置成功。</p>
<h2 id="NetworkManager"><a href="#NetworkManager" class="headerlink" title="NetworkManager"></a>NetworkManager</h2><p>查看 nmcli 命令由哪个软件包提供<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum provides &quot;*/nmcli&quot;</span><br></pre></td></tr></table></figure></p>
<p>安装对应的软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install NetworkManager</span><br></pre></td></tr></table></figure></p>
<h2 id="uuid"><a href="#uuid" class="headerlink" title="uuid"></a>uuid</h2><p>不小心将/etc/sysconfig/network-scripts/ifcfg-eth0(可以通过此文件进行查看UUID)删除或者损坏，要重新编辑ifcfg-eth0文件时不知道网卡的UUID是什么(当然也可以不写)，那我们还有什么方法可以查看网卡的UUID呢？在这里我们使用的方法是使用nmcli命令查看<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmcli con | sed -n &apos;1,2p&apos;</span><br></pre></td></tr></table></figure></p>
<h2 id="uuidgen"><a href="#uuidgen" class="headerlink" title="uuidgen"></a>uuidgen</h2><p>-t 每次后面都是网卡的MAC地址<br>-r 每次全变<br>不加任何参数则默认是 -r<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; uuidgen -t eth0</span><br><span class="line">209997dc-61e1-11e7-8670-08002708bab0</span><br><span class="line"></span><br><span class="line">ssy@e42.matrix ~</span><br><span class="line">&gt;&gt; uuidgen -t eth0</span><br><span class="line">245c40ae-61e1-11e7-a5f3-08002708bab0</span><br><span class="line"></span><br><span class="line">ssy@e42.matrix ~</span><br><span class="line">&gt;&gt; uuidgen -t eth0</span><br><span class="line">27e4ea82-61e1-11e7-bd8f-08002708bab0</span><br><span class="line"></span><br><span class="line">ssy@e42.matrix ~</span><br><span class="line">&gt;&gt; uuidgen -r eth0</span><br><span class="line">d02d1ef5-2b35-41bc-a9b1-f854d8cf29d5</span><br><span class="line"></span><br><span class="line">ssy@e42.matrix ~</span><br><span class="line">&gt;&gt; uuidgen -r eth0</span><br><span class="line">7ce3c5ef-b172-4643-8b78-961ce4fb0ecc</span><br><span class="line"></span><br><span class="line">ssy@e42.matrix ~</span><br><span class="line">&gt;&gt; uuidgen -r eth0</span><br><span class="line">7d39b85e-f748-40d7-a6db-979ad1d150bc</span><br></pre></td></tr></table></figure></p>
<h2 id="dbus"><a href="#dbus" class="headerlink" title="dbus"></a>dbus</h2><p>dbus-daemon: D-Bus的后台进程，作为D-Bus的消息中转枢纽，负责消息的转发，可分成system和session两种。</p>
<p>dbus-launch 命令用于从shell脚本启动一个 dbus-daemon 的会话总线实例.<br>dbus-launch 命令通常会在用户的登录脚本中调用.<br>dbus-launch: 启动一个dbus-daemon，后面有不同的参数。<br>当系统启动时，需要使用dbus-launch来启动dbus-daemon<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eval `dbus-launch --auto-syntax`</span><br></pre></td></tr></table></figure></p>
<p>问题1</p>
<pre><code>$ gdm
** (gdm-binary:2195): WARNING **: Couldn&apos;t connect to system bus: Failed to connect to socket /var/run/dbus/system_bus_socket: No such file or directory

我用ntsysv查看下了发现messagebus没有开机启动，设置messagebus自动启动后重启，再使用gdm就可以启动桌面了。
</code></pre><p>问题2</p>
<pre><code>ssh Client failed to connect to the D-BUS daemon

Add the following lines to ~/.bashrc
export $(dbus-launch)
export NSS_USE_SHARED_DB=ENABLED
</code></pre><h2 id="nmcli"><a href="#nmcli" class="headerlink" title="nmcli"></a>nmcli</h2><p>1、首先我们查看一下nmcli是哪个软件包提供的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@huis ~]# yum provides &quot;*/nmcli&quot;</span><br><span class="line">Loaded plugins：fastestmirror, security</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.cug.edu.cn</span><br><span class="line"> * extras: mirrors.cug.edu.cn</span><br><span class="line"> * updates: centos.ustc.edu.cn</span><br><span class="line">1:NetworkManager-0.8.1-75.el6.i686 : Network connection manager and</span><br><span class="line">                                   : user applications</span><br><span class="line">Repo        : base</span><br><span class="line">Matched from:</span><br><span class="line">Filename    : /usr/bin/nmcli</span><br></pre></td></tr></table></figure></p>
<p>2、从上面结果可以看出nmcli，接下来我们安装NetworkManager这个软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@huis ~]# yum -y install NetworkManager</span><br></pre></td></tr></table></figure></p>
<p>3、启动NetworkManager服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@huis ~]# sudo service NetworkManager start</span><br><span class="line">Setting network parameters...                      [  OK  ]</span><br><span class="line">Starting NetworkManager daemon:                    [  OK  ]</span><br></pre></td></tr></table></figure></p>
<ul>
<li>是不是 sudo 执行 service 是有区别的</li>
<li>不使用 sudo 不会有错误提示，但没有真正运行</li>
</ul>
<p>4、NetWorkManager 和 network 冲突？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; service NetworkManager status</span><br><span class="line">NetworkManager 已死，但 pid 文件仍存</span><br><span class="line"></span><br><span class="line">&gt;&gt; sudo rm /var/run/NetworkManager/NetworkManager.pid </span><br><span class="line"></span><br><span class="line">&gt;&gt; service NetworkManager status</span><br><span class="line">NetworkManager 已死，但是 subsys 被锁</span><br><span class="line"></span><br><span class="line">&gt;&gt; sudo rm -rf /var/lock/subsys/NetworkManager</span><br></pre></td></tr></table></figure>
<p>9、nmcli 和 dbus<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; nmcli con</span><br><span class="line">错误：无法连接到 D-Bus。</span><br><span class="line"></span><br><span class="line">&gt;&gt; nmcli dev</span><br><span class="line"></span><br><span class="line">** (process:1692): WARNING **: Couldn&apos;t connect to system bus: Failed to connect to socket /var/run/dbus/system_bus_socket: 没有那个文件或目录</span><br><span class="line">错误：无法连接到网络管理器。</span><br><span class="line"></span><br><span class="line">&gt;&gt; yum list|grep dbus</span><br><span class="line">dbus.i686                                  1:1.2.24-8.el6_6            @base    </span><br><span class="line">dbus-glib.i686                             0.86-6.el6                  @anaconda-CentOS-201703281202.i386/6.9</span><br><span class="line">dbus-libs.i686                             1:1.2.24-8.el6_6            @anaconda-CentOS-201703281202.i386/6.9</span><br><span class="line">eggdbus.i686                               0.6-3.el6                   @base    </span><br><span class="line">dbus-c++.i686                              0.5.0-0.10.20090203git13281b3.1.el6</span><br><span class="line">dbus-c++-devel.i686                        0.5.0-0.10.20090203git13281b3.1.el6</span><br><span class="line">dbus-devel.i686                            1:1.2.24-8.el6_6            base     </span><br><span class="line">dbus-doc.noarch                            1:1.2.24-8.el6_6            base     </span><br><span class="line">dbus-glib-devel.i686                       0.86-6.el6                  base     </span><br><span class="line">dbus-python.i686                           0.83.0-6.1.el6              base     </span><br><span class="line">dbus-python-devel.i686                     0.83.0-6.1.el6              base     </span><br><span class="line">dbus-qt.i686                               0.70-7.2.el6                base     </span><br><span class="line">dbus-qt-devel.i686                         0.70-7.2.el6                base     </span><br><span class="line">dbus-x11.i686                              1:1.2.24-8.el6_6            base     </span><br><span class="line">eggdbus-devel.i686                         0.6-3.el6                   base     </span><br><span class="line">python-slip-dbus.noarch                    0.2.20-1.el6_2              base     </span><br><span class="line">sssd-dbus.i686                             1.13.3-56.el6               base     </span><br><span class="line"></span><br><span class="line">&gt;&gt; yum info dbus</span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.nju.edu.cn</span><br><span class="line"> * extras: mirrors.nwsuaf.edu.cn</span><br><span class="line"> * updates: mirrors.nwsuaf.edu.cn</span><br><span class="line">已安装的软件包</span><br><span class="line">Name        : dbus</span><br><span class="line">Arch        : i686</span><br><span class="line">Epoch       : 1</span><br><span class="line">Version     : 1.2.24</span><br><span class="line">Release     : 8.el6_6</span><br><span class="line">Size        : 486 k</span><br><span class="line">Repo        : installed</span><br><span class="line">From repo   : base</span><br><span class="line">Summary     : D-BUS message bus</span><br><span class="line">URL         : http://www.freedesktop.org/software/dbus/</span><br><span class="line">License     : GPLv2+ or AFL</span><br><span class="line">Description : D-BUS is a system for sending messages between applications. It is</span><br><span class="line">            : used both for the system-wide message bus service, and as a</span><br><span class="line">            : per-user-login-session messaging facility.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt; yum info dbus-x11</span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.nju.edu.cn</span><br><span class="line"> * extras: mirrors.nwsuaf.edu.cn</span><br><span class="line"> * updates: mirrors.nwsuaf.edu.cn</span><br><span class="line">可安装的软件包</span><br><span class="line">Name        : dbus-x11</span><br><span class="line">Arch        : i686</span><br><span class="line">Epoch       : 1</span><br><span class="line">Version     : 1.2.24</span><br><span class="line">Release     : 8.el6_6</span><br><span class="line">Size        : 39 k</span><br><span class="line">Repo        : base</span><br><span class="line">Summary     : X11-requiring add-ons for D-BUS</span><br><span class="line">URL         : http://www.freedesktop.org/software/dbus/</span><br><span class="line">License     : GPLv2+ or AFL</span><br><span class="line">Description : D-BUS contains some tools that require Xlib to be installed, those are</span><br><span class="line">            : in this separate package so server systems need not install X.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt; rpm -qa|grep dbus</span><br><span class="line">dbus-libs-1.2.24-8.el6_6.i686</span><br><span class="line">dbus-1.2.24-8.el6_6.i686</span><br><span class="line">eggdbus-0.6-3.el6.i686</span><br><span class="line">dbus-glib-0.86-6.el6.i686</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt; rpm -ql dbus</span><br><span class="line">/bin/dbus-cleanup-sockets</span><br><span class="line">    /bin/dbus-daemon</span><br><span class="line">/bin/dbus-monitor</span><br><span class="line">/bin/dbus-send</span><br><span class="line">/bin/dbus-uuidgen</span><br><span class="line">/etc/dbus-1</span><br><span class="line">/etc/dbus-1/session.conf</span><br><span class="line">/etc/dbus-1/session.d</span><br><span class="line">/etc/dbus-1/system.conf</span><br><span class="line">/etc/dbus-1/system.d</span><br><span class="line">/etc/rc.d/init.d/messagebus</span><br><span class="line">/lib/dbus-1</span><br><span class="line">/lib/dbus-1/dbus-daemon-launch-helper</span><br><span class="line">/usr/share/dbus-1</span><br><span class="line">/usr/share/dbus-1/interfaces</span><br><span class="line">/usr/share/dbus-1/services</span><br><span class="line">/usr/share/dbus-1/system-services</span><br><span class="line">/usr/share/doc/dbus-1.2.24</span><br><span class="line">/usr/share/doc/dbus-1.2.24/COPYING</span><br><span class="line">/usr/share/man/man1/dbus-cleanup-sockets.1.gz</span><br><span class="line">/usr/share/man/man1/dbus-daemon.1.gz</span><br><span class="line">/usr/share/man/man1/dbus-monitor.1.gz</span><br><span class="line">/usr/share/man/man1/dbus-send.1.gz</span><br><span class="line">/usr/share/man/man1/dbus-uuidgen.1.gz</span><br><span class="line">/var/lib/dbus</span><br><span class="line">/var/run/dbus</span><br><span class="line"></span><br><span class="line">&gt;&gt; dbus-daemon</span><br><span class="line">No configuration file specified.</span><br><span class="line">dbus-daemon [--version] [--session] [--system] [--config-file=FILE] [--print-address[=DESCRIPTOR]] [--print-pid[=DESCRIPTOR]] [--fork] [--nofork] [--introspect]</span><br><span class="line"></span><br><span class="line">&gt;&gt; dbus-daemon --system --print-pid --print-address</span><br><span class="line">Failed to start message bus: Failed to bind socket &quot;/var/run/dbus/system_bus_socket&quot;: Permission denied</span><br><span class="line"></span><br><span class="line">&gt;&gt; sudo dbus-daemon --system --print-pid --print-address</span><br><span class="line">[sudo] password for ssy: </span><br><span class="line">unix:path=/var/run/dbus/system_bus_socket,guid=6100e9c5c906f107cd0f3efb00001480</span><br><span class="line">1797</span><br><span class="line"></span><br><span class="line">&gt;&gt; ll /var/run/dbus/</span><br><span class="line">总用量 0</span><br><span class="line">srwxrwxrwx. 1 root root 0 7月   6 09:13 system_bus_socket</span><br><span class="line"></span><br><span class="line">&gt;&gt; nmcli con show</span><br><span class="line">错误：无法获得连接：设定服务没有运行。</span><br><span class="line"></span><br><span class="line">&gt;&gt; nmcli dev</span><br><span class="line"></span><br><span class="line">** (process:1802): WARNING **: nm_client_get_devices: error getting devices: The name org.freedesktop.NetworkManager was not provided by any .service files</span><br><span class="line"></span><br><span class="line">设备       类型              状态        </span><br><span class="line"></span><br><span class="line">&gt;&gt; sudo /etc/rc.d/init.d/messagebus start</span><br><span class="line">[sudo] password for ssy: </span><br><span class="line">启动系统消息总线：</span><br><span class="line"></span><br><span class="line">&gt;&gt; nmcli con</span><br><span class="line">错误：无法获得连接：设定服务没有运行。</span><br><span class="line"></span><br><span class="line">&gt;&gt; sudo yum install -y dbus-x11</span><br><span class="line"></span><br><span class="line">&gt;&gt; rpm -ql dbus-x11</span><br><span class="line">/etc/X11/xinit/xinitrc.d/00-start-message-bus.sh</span><br><span class="line">/usr/bin/dbus-launch</span><br><span class="line">/usr/share/man/man1/dbus-launch.1.gz</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/11/19/Linux - 编译内核/" rel="next" title="">
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/11/19/Linux - 自动启动守护进程/" rel="prev" title="">
                 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">shenlin</p>
              <p class="site-description motion-element" itemprop="description">A Programmer's Blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">165</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">36</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">82</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#linux-网络设置"><span class="nav-number">1.</span> <span class="nav-text"><a href="#linux-&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;" class="headerlink" title="linux &#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;"></a>linux &#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#网络基本命令"><span class="nav-number">1.1.</span> <span class="nav-text"><a href="#&#x7F51;&#x7EDC;&#x57FA;&#x672C;&#x547D;&#x4EE4;" class="headerlink" title="&#x7F51;&#x7EDC;&#x57FA;&#x672C;&#x547D;&#x4EE4;"></a>&#x7F51;&#x7EDC;&#x57FA;&#x672C;&#x547D;&#x4EE4;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进程"><span class="nav-number">1.2.</span> <span class="nav-text"><a href="#&#x8FDB;&#x7A0B;" class="headerlink" title="&#x8FDB;&#x7A0B;"></a>&#x8FDB;&#x7A0B;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VirtualBox-导致的问题"><span class="nav-number">1.3.</span> <span class="nav-text"><a href="#VirtualBox-&#x5BFC;&#x81F4;&#x7684;&#x95EE;&#x9898;" class="headerlink" title="VirtualBox &#x5BFC;&#x81F4;&#x7684;&#x95EE;&#x9898;"></a>VirtualBox &#x5BFC;&#x81F4;&#x7684;&#x95EE;&#x9898;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NetworkManager"><span class="nav-number">1.4.</span> <span class="nav-text"><a href="#NetworkManager" class="headerlink" title="NetworkManager"></a>NetworkManager</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#uuid"><span class="nav-number">1.5.</span> <span class="nav-text"><a href="#uuid" class="headerlink" title="uuid"></a>uuid</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#uuidgen"><span class="nav-number">1.6.</span> <span class="nav-text"><a href="#uuidgen" class="headerlink" title="uuidgen"></a>uuidgen</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dbus"><span class="nav-number">1.7.</span> <span class="nav-text"><a href="#dbus" class="headerlink" title="dbus"></a>dbus</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#nmcli"><span class="nav-number">1.8.</span> <span class="nav-text"><a href="#nmcli" class="headerlink" title="nmcli"></a>nmcli</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">shenlin</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
