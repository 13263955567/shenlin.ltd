<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="PHP," />










<meta name="description" content="php语言标记可以进出”PHP模式” 共4种，其中标准类型和脚本类型总是可用的，简短类型和Asp类型需要在php配置文件中打开，因此移植性差，不推荐使用。 标准类型123&amp;lt;?php    echo &quot;123&quot; ?&amp;gt; 推荐使用的php标准标记XML风格，如果php程序要嵌入XML或XHTML文档中，则使用此风格可保持符合标准如果?&amp;gt;之后就是整个脚本文件的结束，则?&amp;gt;可以不加，">
<meta name="keywords" content="PHP">
<meta property="og:type" content="article">
<meta property="og:title" content="细说 PHP">
<meta property="og:url" content="http://www.shenlin.ltd/2017/12/30/PHP笔记/细说 PHP/index.html">
<meta property="og:site_name" content="shenlin&#39;s blog">
<meta property="og:description" content="php语言标记可以进出”PHP模式” 共4种，其中标准类型和脚本类型总是可用的，简短类型和Asp类型需要在php配置文件中打开，因此移植性差，不推荐使用。 标准类型123&amp;lt;?php    echo &quot;123&quot; ?&amp;gt; 推荐使用的php标准标记XML风格，如果php程序要嵌入XML或XHTML文档中，则使用此风格可保持符合标准如果?&amp;gt;之后就是整个脚本文件的结束，则?&amp;gt;可以不加，">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-12-30T07:00:24.539Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="细说 PHP">
<meta name="twitter:description" content="php语言标记可以进出”PHP模式” 共4种，其中标准类型和脚本类型总是可用的，简短类型和Asp类型需要在php配置文件中打开，因此移植性差，不推荐使用。 标准类型123&amp;lt;?php    echo &quot;123&quot; ?&amp;gt; 推荐使用的php标准标记XML风格，如果php程序要嵌入XML或XHTML文档中，则使用此风格可保持符合标准如果?&amp;gt;之后就是整个脚本文件的结束，则?&amp;gt;可以不加，">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.shenlin.ltd/2017/12/30/PHP笔记/细说 PHP/"/>





  <title>细说 PHP | shenlin's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">shenlin's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">what the fuck?!</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.shenlin.ltd/2017/12/30/PHP笔记/细说 PHP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shenlin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shenlin's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">细说 PHP</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-30T15:00:24+08:00">
                2017-12-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="php语言标记"><a href="#php语言标记" class="headerlink" title="php语言标记"></a>php语言标记</h2><p>可以进出”PHP模式”</p>
<p>共4种，其中标准类型和脚本类型总是可用的，简短类型和Asp类型需要在php配置文件中打开，因此移植性差，不推荐使用。</p>
<h3 id="标准类型"><a href="#标准类型" class="headerlink" title="标准类型"></a>标准类型</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"123"</span> </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>推荐使用的php标准标记<br>XML风格，如果php程序要嵌入XML或XHTML文档中，则使用此风格可保持符合标准<br>如果?&gt;之后就是整个脚本文件的结束，则?&gt;可以不加，在文件被包含时，可以避免全局函数前面有空格而导致出错</p>
<h3 id="脚本类型"><a href="#脚本类型" class="headerlink" title="脚本类型"></a>脚本类型</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script language=<span class="string">"php"</span>&gt;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"123"</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>当使用的编辑器不支持标准风格标记时，可以使用此种风格</p>
<h3 id="简短类型"><a href="#简短类型" class="headerlink" title="简短类型"></a>简短类型</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?</span>=<span class="string">"1234"</span><span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?</span> <span class="keyword">echo</span> <span class="string">"123"</span> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>需要更改php的配置文件php.ini：short_open_tag=Off，改为On，修改后需重启Apache<br>或者在编译时，加入–enable-short-tags<br>SGML风格，会干扰XML文档的声明，不推荐使用</p>
<h3 id="Asp类型"><a href="#Asp类型" class="headerlink" title="Asp类型"></a>Asp类型</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">echo</span> <span class="string">"123"</span> %&gt;</span><br><span class="line">&lt;%=<span class="string">"123"</span> %&gt;</span><br></pre></td></tr></table></figure>
<p>需要更改php的配置文件php.ini：asp_tags=Off，改为On，修改后需重启Apache<br>不推荐使用</p>
<h2 id="指令分隔符：分号"><a href="#指令分隔符：分号" class="headerlink" title="指令分隔符：分号"></a>指令分隔符：分号</h2><p>语句分为两种：结构定义语句和功能执行语句，功能执行语句后面一定要加分号.</p>
<p>php代码的结束标记隐含表示了一个分号，因此一段php代码的最后一行可以不加分号<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="string">"111"</span> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>文件末尾的php代码结束标记可以不要，在使用include()和require()时更方便：<br>    1、在输出响应头信息时，就不会由于包含文件生成的不期望的空格而导致错误<br>    2、在使用输出缓冲时，就不会看到由包含文件生成的不期望的空格</p>
<h2 id="程序注释"><a href="#程序注释" class="headerlink" title="程序注释"></a>程序注释</h2><p>支持c语言<code>/**/</code>、c++的<code>//</code>、unix shell的<code>#</code>风格的注释</p>
<p><code>#和//</code> 单行注释</p>
<pre><code>单行注释仅仅注释到行尾，或者，注释到php结束标记 ?&gt;，无论先遇到哪个，都会跳出php模块，因此当注释的字符串中包含?&gt;时注意，可能会得不到期望的结果
    &lt;?php
    #echo &quot;&lt;?php echo time() ?&gt;&quot;;?&gt;aaa
因此单行注释并不会注释掉?&gt;，但却可以注释掉另一个php结束标记&lt;/script&gt;
    &lt;?php
    #echo &quot;111&quot;;?&gt;aaa&lt;!--正常输出aaa，因注释到?&gt;结束--&gt;

    &lt;?php//echo &quot;111&quot;;?&gt;bbb&lt;!--正常输出bbb，因注释到?&gt;结束--&gt;

    &lt;script language=&quot;php&quot;&gt;//echo &quot;111&quot;;&lt;/script&gt;dd&lt;!--无法输出dd，被注释掉了--&gt;
</code></pre><p><code>/*  */</code> 多行注释，遇到 <code>*/</code> 则结束，因此其中不能再包含多行注释</p>
<p><code>/** */</code> 文档注释</p>
<h2 id="在程序中使用空白"><a href="#在程序中使用空白" class="headerlink" title="在程序中使用空白"></a>在程序中使用空白</h2><p>空格、tab、换行符</p>
<p>PHP在输出时会自动删除结束符?&gt;后的一个换行符，此设计主要是针对在一个页面中嵌入多段PHP代码或者包含了无实质性输出的PHP文件，也因此要在?&gt;后输出换行的话，可以加一个空格，或者在最后的一个echo/print语句中加入一个换行。</p>
<h2 id="语言结构和函数"><a href="#语言结构和函数" class="headerlink" title="语言结构和函数"></a>语言结构和函数</h2><p>语言结构：<br>    是php的语言关键词，是php语法的一部分，就像if while一样<br>    可以有或没有参数<br>    可以有或没有返回值<br>    调用时可以有或没有括号</p>
<p>php的语言结构比函数快：<br>    php中，函数执行时首先要被语言解析器分解为语言结构，因此函数比语言结构多了一层解析器解析。</p>
<p>语言结构和函数的区别：<br>    速度比对应功能的函数快<br>    因语言结构只是语法的基本组成，不是函数，所以不能做回调函数、可变函数，但函数可以<br>    有些儿语言结构调用时可不使用括号，但函数必须有括号<br>    不能在php.ini中禁用，函数有些儿是内置，有些是扩展，则可以<br>    在错误处理上比较鲁棒，由于是语言关键词，所以不具备再处理的环节<br>        如使用isset()判断不存在的变量时并不会产生Notice错误，但函数直接使用未声明变量则会产生<br>            但传给函数引用变量时不会产生Notice错误<br>            <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">($param)</span></span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> $param;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    test($a);  <span class="comment">//notice错误</span></span><br><span class="line">    test(&amp;$b)  <span class="comment">//没有</span></span><br></pre></td></tr></table></figure></p>
<p>下列都是语言结构而不是函数?个：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span>()</span><br><span class="line"><span class="keyword">print</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">eval</span>()</span><br><span class="line"><span class="keyword">list</span>()</span><br><span class="line"><span class="keyword">array</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">isset</span>()</span><br><span class="line"><span class="keyword">unset</span>()	</span><br><span class="line"><span class="keyword">empty</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">require</span>()</span><br><span class="line">?<span class="keyword">require_once</span>()</span><br><span class="line"><span class="keyword">include</span>()</span><br><span class="line">?<span class="keyword">include_once</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">die</span>()</span><br><span class="line"><span class="keyword">exit</span>()</span><br><span class="line"><span class="keyword">return</span>()</span><br></pre></td></tr></table></figure>
<p>运算符</p>
<pre><code>算术运算符    + - * / % ++ --
    %和/的除数不能为0
    %      会将运算符两边转换为整型后再进行运算
        使用目的：整除运算 和 控制一个数的范围
    ++ --    j=i++，运算符在后，表示先使用变量赋值再进行加运算
        j=++i，运算符在前，表示先进行加运算，再将结果赋值

字符串运算符    .
    可以和4种标量进行连接

赋值运算符    = += -= *= /= %= .=
    $a.=&quot;abc&quot;;即$a=$a.&quot;abc&quot;; 用于字符串拼接操作

比较运算符    &gt; &lt; &gt;= &lt;= == === !=或&lt;&gt; !==
    也称为条件运算符或关系运算符，结果只有一种就是布尔值
    === 比较时不仅要求内容相同，也要求类型相同
    !== 内容或类型不同时都返回真

逻辑运算符    &amp; | &amp;&amp;或and ||或or !或not
    &amp;和|，无论前面的条件真假，后面的条件判断都会执行
    &amp;&amp;和||，则会根据前面的判断结果，来确定是否需判断后面的条件

位运算符    &amp; | ^ ~ &lt;&lt; &gt;&gt; &gt;&gt;&gt;
    可以和赋值运算符=结合使用，如$a &amp;= $b; 即 $a = $a &amp; $b;
    ^ 按位异或，相同为0，不同位1
        可以使用异或交换两个数字的值
            &lt;?PHP
            $a=5;
            $b=3;

            //Please mind the order of these, as it&apos;s important for the outcome.

            $a^=$b;
            $b^=$a;
            $a^=$b;

            echo $a.PHP_EOL.$b;

        上面的方法也可以用来交换两个字符串的值，但字符串的长度最好相等
        不能用于数组和对象，但可以通过串行化函数serialize后再使用，然后再反串行化unserialize还原

    ~ 按位取反，$c =~$a;
    &gt;&gt; &lt;&lt; 右移 左移 $c = $c &gt;&gt; 2;
    &gt;&gt;&gt; 无符号右移，无论最高的符号位是0还是1，都补0

其他运算符    ?:  ``  @ =&gt; -&gt; :: &amp; $
    `` 命令执行符，将其中的字符串作为系统命令执行，并返回执行结果，如$str=`ipconfig -all`;echo $str;
    @  错误控制符，用于屏蔽产生的错误和警告，如@getType();
</code></pre><p>流程控制</p>
<pre><code>一、顺序结构
二、分支结构--条件结构--选择结构
    1、单路分支
        if(条件)
            一条代码；

        if(条件){
            代码段；
            代码段；
        }
    2、双路分支
        if(条件)
            一条代码;
        else
            一条代码;

        if(条件){
            代码段；
            代码段；
        }else{
            代码段；
            代码段；
        }
    3、多路分支
        if(条件){
            代码段；
            代码段；
        }else if{
            代码段；
            代码段；
        }else if{
            代码段；
            代码段；
        }else{
            代码段；
            代码段；
        }

        switch(变量){        //这里应该只能用整型和字符串
            case 结果1:
                代码段;
                break;
            case 结果2222:
            case 结果222:
            case 结果22:
            case 结果2:
                代码段;
                break;    //break跳出了switch，也可以利用break匹配多个条件
            case 结果3:
                代码段;
                break;
            default:    //变量没有匹配，则执行default，可选
                代码段;
        }

        判断一段范围使用else if，判断准确值匹配使用switch

    4、嵌套分支
        if(条件){

            if(条件){
                代码段；
                代码段；
            }else{
                代码段；
                代码段；
        }else{
            代码段；
            代码段；
        }

三、循环结构

    计数循环for

        for(初始化;条件表达式;增量){

        增量    循环体;

        }

        初始化和增量也可以用多个条件，如：

        for($i=0,$j=0;$i&lt;100 &amp;&amp; $j&lt;100;$i++,$j++){

        }

    条件循环while    do while

        while(表达式){
            循环体;
        }


        do{

            循环体;

        }while(表达式);   ---&gt;注意这里的分号

四、几个和循环有关的语句

    break;        跳出当前层循环

    break x;    跳出x层循环,x为数字

    continue;    结束本次循环，开始下一次循环

    continue x;    结束x层循环，开始新循环

    exit;

    return;
</code></pre><p>函数</p>
<pre><code>1、function 函数名(参数列表){

    函数体；
    返回值；

   }

参数列表和返回值可省略
没有返回值的函数也称为过程
函数执行到return语句即返回了函数调用处
php无名称空间，所以函数不能重名，包括和系统函数

2、函数定义时也可为参数设置默认值：
function test($a,$b=10,$c=22){

}
有默认值的参数调用时不传值则会使用默认值，不会发生错误：
test(1);
test(1,2);
test(1,2,3);
?无默认值的参数可称为必填值，有默认值的称为可选值，是否必填值一定不能在可选择后面？测试证明？

3、一个参数也没有的函数，也表示可以传任意多个参数
function test(){
    $args=func_get_args();
    echo count($args);

    //另一种方法
    for($i=0;$i&lt;func_num_args();$i++){
        echo func_get_arg($i);
    }
}
test(1,2,3,4,5);

4、定义回调函数
function test($x,$y){

}

function test2($a,$b,$fun){
    return $a+$b+$fun($a,$b);
}

test2(1,2,&quot;test&quot;);
</code></pre><p>系统函数使用时的分类</p>
<pre><code>1、常规函数，如
    bool copy(string source,string dest)
2、参数带有mixed的函数，mixed表示可以传任何类型的数据
    bool chown(string filename,mixed user)
3、参数带有&amp;符号的函数，表示引用赋值，这个参数不能传值，只能传变量的引用
    bool arsort(array &amp;array[,int sort_flags])
4、带有[]的函数，表示参数可选，不传值时使用默认值
    bool arsort(array &amp;array[,int sort_flags])
5、参数带有...的函数，...表示可以传任意个参数
    int array_unshift(array &amp;array,mixed var [,mixed ...])
6、参数带有callback表示回调函数，即在调用函数时我们需要再传一个函数进去（函数名或函数名字符串），这个传进去的函数会在调用的函数中被调用
    array array_filter(array input [,callback callback])

    示例：
    $a = array(1,2,-3,4,-5,6,-7,8,9);

    function test1($n){
        if($n%2==0)
            return true;
        else
            return false;
    }

    function test2($n){
        if($n&gt;0)
            return true;
        else
            return false;
    }

    print_r(array_filter($a,test1));

    print_r(array_filter($a,test2));
</code></pre><p>变量范围</p>
<pre><code>局部变量
    在函数中声明，只能在函数中调用
    函数的形参是局部变量

全局变量
    在函数外声明，在变量声明以后的所以代码中均可以使用(即使变量是在while循环中)，包括函数和{}中
    因为php变量的声明和使用都是用$后连上变量名，所以在php中使用全局变量要通过global关键字将全局变量包含到函数中
    $a = 10;
    function test(){
        echo $a;    //函数的局部变量
        global $a;    //使用global关键字后，后面的$a才是全局变量
        echo $a+=10;
    }

静态变量
    静态变量只能声明在函数和类中，不能在全局声明
    使用static声明静态变量
    静态变量在函数多次调用时共用一个，只在第一次调用时声明到内存，以后再调用则直接使用
    静态变量即不在堆内存，也不再栈内存，保存在静态代码段中    
    function test(){
        static $a=0;
        $a++;
        echo $a;
    }    

    test();
    test();
</code></pre><p>变量函数<br>    有一个变量$var，其值为”hello”，即$var=”hello”，如果在使用变量$var时，后面加上了括号，即$var()，则php将寻找与变量值同名的函数。<br>    function one($a,$b){<br>    }</p>
<pre><code>function two($a,$b){
}

if(true){
    $var=&quot;one&quot;;     //也可写成$var=one;
}else{
    $var=&quot;two&quot;;
}

echo $var(3,4);
</code></pre><p>内部函数：php可以在函数内部再声明函数，目的就是在函数的内部调用，来帮助外部函数完成一些儿子功能。</p>
<pre><code>function demo(){

    function fun1(){

    }

    function fun2(){

    }
}
</code></pre><p>递归函数：在自己内部调用自己的函数</p>
<pre><code>function demo($num){
    echo $num.&quot;&lt;br&gt;&quot;;

    if($num&gt;0)
        demo($num-1);
    else
        echo &quot;------------&quot;;

    echo $num.&quot;&lt;br&gt;&quot;;
}

demo(10);

----------------------------------

function total($dirname,&amp;$dirnum,&amp;$filenum){

    $dir = opendir($dirname);
    readdir($dir);
    readdir($dir);
    while($filename=readdir($dir)){
        $newfile=$dirname.&quot;/&quot;.$filename;
        if(is_dir($newfilename)){
            total($newfile,$dirnum,$filenum);
            $dirnum++;
        }else{
            $filenum++;
        }
    }
    closedir();
}

$dirnum=0;
$filenum=0;
total(&quot;c:/appserv/www/phpmyadmin&quot;,$dirnum,$filenum);
</code></pre><p>重用函数（使用自己定义的函数库）</p>
<pre><code>require:用于静态包含
include:用于动态包含
require_once:相对于require，可防止重复包含一个文件，但效率相对较低
include_once

require &quot;header.inc.php&quot;;

if($className==&quot;Action&quot;)
    include &quot;action/&quot;.$className.&quot;.php&quot;;
else
    include &quot;public/&quot;.$className.&quot;.php&quot;;

require &quot;footer.inc.php&quot;;
</code></pre><p>系统指令</p>
<pre><code>php的系统指令有两种写法，如：
    include &quot;file.inc.php&quot;;
    include(&quot;file.inc.php&quot;);

    echo &quot;haha&quot;;
    echo(&quot;haha&quot;);
</code></pre><p>字符串处理函数特点：</p>
<pre><code>特点1、其他类型的数据用在字符串处理函数中，会自动将其转为字符串处理，如
echo substr(&apos;abcdef&apos;;,2,3);
echo substr(1234567,2,3);

特点2、可以将字符串视为数组，当做字符集合来看待
$str = &quot;abcdefg&quot;;
echo $str[2];    //避免和数组字符串混淆，改为下面的写法
echo $str{2};

echo $str{0}.$str{1};

特点3、在PHP中所有字符串处理函数，都不是在原字符串上修改，而是返回一个新格式化后的字符串。
</code></pre><p>PHP中内置的字符串处理函数</p>
<pre><code>1、常用的字符串输出函数
    echo
        不加括号也可多个参数：echo &quot;111&quot;,&quot;222&quot;,&quot;333&quot;;
        加括号只能一个参数：echo &quot;111&quot;;
    print
        成功返回1，失败返回0
    die

        exit的别名

        fopen(&quot;11.php&quot;,&quot;r&quot;) or die(&quot;文件打开失败&quot;);
        echo &quot;文件打开成功&quot;;

        exit(0); 0到254
    printf
        把字符串格式化字符串

        %%
        %b
        %c
        %d
        %f
        %o
        %x
        %s

        $str=&quot;100.123456abc&quot;;
        printf(&quot;%.2f-------%&apos;_-20s--------%&apos;_20s&quot;,$str,$str,$str);
    sprintf
        返回格式化的字符串

2、常用的字符串格式化函数

    ltrim();
        删除空白，不仅仅是空格
        $str=&quot;   abc   &quot;;
        echo strlen($str).&quot;&lt;br&gt;&quot;;
        echo strlen(rtrim($str)).&quot;&lt;br&gt;&quot;;

        第二个参数指定要过滤的字符，即默认是空白，但自己可指定
        $str=&quot;123this is a test ...&quot;;
        echo ltrim($str,&quot;0..9&quot;);
        echo ltrim($str,&quot;0..9 .&quot;);

    rtrim();
    trim();
    str_pad();
        补充字符串

        参数1：往哪个字符串上补充
        参数2：补充的字符个数
        参数3：补充的字符
        参数4：补充的位置，左、右、两边

        $str=&quot;AAAA&quot;;
        echo str_pad($str,10,&quot;-+&quot;,STR_PAD_LEFT);
        echo str_pad($str,10,&quot;-+&quot;,STR_PAD_RIGHT);
        echo str_pad($str,10,&quot;-+&quot;,STR_PAD_BOTH);



    strtolower();
    strtoupper();
    ucfirst();
        每句话头字母转为大写
    ucword();
        每个单词头字母转为大写



    nl2br();
        将文本的换行转换为html的&lt;br&gt;
    htmlentities();
    htmlspecialchars();
        将特殊字符转为html的实体，字符包括双引号、单引号、&amp;号、左右尖括号
    stripslashes();
        将转义字符\去除并返回字符串
    strip_tags();
        从字符串中去除HTML和PHP标记，第二个参数指定你想保留的标签 



    number_format();
        参数1：要格式化的数字
        参数2：保留的小数位数
        参数3：小数点样式
        参数4：千分位样式
    strrev();
        反转字符串
    md5();
    md5_file();
        对整个文件md5加密

3、字符串比较函数

    按字节顺序比较，即ASCII码比较
    strcmp();
        第一个参数和第二个参数比较
        相等 返回0
        大于 返回1
        小于 返回-1
    strcasecmp();

    按自然数排序
    strnatcmp();
        &quot;1&quot;,&quot;2&quot;,&quot;10&quot;,&quot;12&quot;
        上面为自然数
        而ascii码为
        &quot;1&quot;,&quot;10&quot;,&quot;12&quot;,&quot;2&quot;
</code></pre><p>正则表达式概述</p>
<pre><code>1、正则表达式是描述字符串排列模式的一种自定义语法规则
2、可以使用字符串函数完成的任务则不要用正则表达式，一些儿复杂的操作则适合使用正则。
3、正则表达式也称为模式表达式
4、正则表达式是使用一些儿特殊字符，通过构建具有特定规则的模式，与输入字符串比较，再进行分割、匹配、查找、替换等工作。
5、正则表达式和函数一起使用才起作用，否则就是个普通字符串
6、PHP中提供了两套正则表达式函数库，一种是POSIX扩展正则表达式（以ereg_开头的函数），一种是与Perl兼容的正则表达式函数(以preg_开头的函数），推荐使用后一种
7、正则两方面需要学习：1、正则表达式的模式如何编写  2、正则表达式的处理函数
</code></pre><p>正则表达式语法<br>    1、定界符号<br>        开始和结束符号 /<br>        除了字母、数字和反斜线\以外的任何字符都可以为定界符<br>        ||<br>        //<br>        {}<br>        !!<br>        但无特殊需要，都使用正斜线//<br>    2、原子<br>        img \s<br>        原子是正则表达式的最基本组成单位，一个正则表达式中必须至少要包含一个原子<br>        正则表达式可以单独使用的字符就是原子</p>
<pre><code>    1、包含所有打印和非打印字符
    2、有意义的字符如元字符，想作为原子使用，则可以用转义字符\
    3、经转义后，一些代表范围的原子：
        \d    任意一个十进制数字
        \D    任意一个非数字之外的字符
        \s    任意一个空白字符 \n\r\t\f
        \S    任意一个非空白字符
        \w    任意一个字a-zA-Z0-9_
        \W    任意一个非字
    4、使用[]自定义原子表，可以匹配[]中的任意一个原子
        [a-f4-9]
        [^a-f] ^表示取反，就是除了原子表中的原子，^必须是[]中的第一个字符
    5、.
        默认情况下，表示换行符外任意一个字符

3、元字符
    是一种特殊字符，是用来修饰原子的，不可以单独出现
    ?    前面的原子可以出现0次、1次
    +    前面的原子可以出现1次或多次
    *    前面的原子可以出现0次、1次或多次
    {}    自定义前面原子出现次数
        {m}    //m表示一个正数，表示前面原子出现m次
        {m,n}    //m小于n，表示前面原子最少出现m次，最多出现n次，包括m和n次
        {m,}    //表示前面的原子最少出现m次，最多无限
        {,n}    //表示前面的原子最多出现n次
    ^    作为正则表达式的第一个字符出现，则表示必须以这个正则表达式开始    
    $    作为正则表达式的最后一个字符出现，则表示必须以这个正则表达式结尾
    |    表示 或 的关系，它的优先级是最低的，最后考虑它的功能
    \b    表示一个边界
    \B    表示一个非边界
    ()    重点：
            1、作为大原子使用
                &quot;/abc+/&quot;
                &quot;/(abc)+/&quot;
            2、改变优先级，加括号可以提高优先级
                &quot;/cat|dog/&quot;
                &quot;/ca(t|d)og/&quot;
            3、作为子模式使用
                全部匹配作为一个大模式，放到数组的第一个元素中
                每个()是一个子模式，按顺序放到数组的其他元素中
            4、可以取消子模式，就将()作为大原子或改变优先级使用
                (?:)
            5、反向引用，可以在模式中直接将子模式取出，再作为正则表达式的一部分
                \n 取第n个子模式
                使用注意，正则被单引号和双引号括起来时还不相同
                双引号 &quot;\\n&quot;
                单引号 &apos;\n&apos;
                或使用下列方式
                ${n}
    元字符的优先级顺序
        第一优先级：\
        第二优先级：() (?:) []
        第三优先级：* + ? {}
        第四优先级：^ $ \b
        第五优先级：|

4、模式修正符号
    &quot;\\模式修正符&quot;
    只有模式修正符放定界符之外

    i    表示匹配时不区分大小写
    m    默认情况，无论字符串多少行都视为一行；加m后则每行的开头和结尾都分别匹配^和$
    s    默认情况，元字符中的&quot;.&quot;不能表示换行符号，加s后将字符串视为单行，&quot;.&quot;则可匹配换行符号
    x    表示模式中的空白忽略不计    
    e    正则表达式必须使用在preg_replace替换函数中时才可以使用
    U    默认为贪婪模式，加U则取消贪婪模式
        但有的语言不支持模式修正符号，另一种使用?完成 .*?  .+?
        但上述两种方式同时使用，则开启了贪婪模式

/原子和元字符/模式修正符号 

    /为定界符，一些儿语言不需要定界符
</code></pre><p>正则表达式函数</p>
<pre><code>1、字符串匹配和查找

preg_match();
    将正则表达式和字符串进行匹配，遇到第一个匹配则停止，并返回1，没有遇到匹配则返回0，发生错误返回false，一般用于验证email等

    参数1：正则表达式
    参数2：字符串
    参数3：匹配到的结果，为 一 维数组
    参数4：
    参数5：

    只是检测字符串中是否包含另一个字符串，可以使用下面的字符串函数：

    strstr()
        从搜到的字符串到结尾的剩余字符串
        参数1：源字符串
        参数2：要搜索字符串
    stristr()    //不区分大小写

    strpos()
        一个字符串在另一个字符串中最先出现的位置
    stripos()
        一个字符串在另一个字符串中的最后出现的位置

    substr()
        返回子字符串

        参数1：源字符串
        参数2：开始位置，大于0则从头部算起，字符串的位置从0开始
                 小于0则从尾部算起，字符串的位置从1开始
                 大于等于字符串长度，则返回false
        参数3：字符长度，不提供则取到字符串末尾
                                     为0、false或null则返回空字符串
                 小于0则表示末尾要保留几位字符串

preg_match_all();
    将正则表达式和字符串进行匹配，会完整检测每一个匹配，并返回匹配次数，没有匹配到则返回0，发生错误返回false

    参数1：正则表达式
    参数2：字符串
    参数3：匹配到的结果，为 多 维数组
    参数4：指定匹配结果的顺序，为PREG_PATTERN_ORDER PREG_SET_ORDER，默认为前者
    参数5：

preg_grep();

preg_quote();

2、字符串中的替换函数

str_replace
    参数1：查找的字符串
    参数2：替换为的字符串
    参数3：源字符串
    参数4：替换的次数

    因参数为mixed类型，参数不仅可以为字符串，总结有如下用法：
    str_replace(string,string,string)    
    str_replace(array,string,string) //数组为字符串数组    
    str_replace(array,array,string)//替换时两个数组元素一一对应    
str_ireplace    //不区分大小写

preg_replace
    参数1：正则表达式
    参数2：替换为的字符串
    参数3：源字符串
    参数4：限制替换几次

    因参数为mixed类型，参数不仅可以为字符串，总结有如下用法：
    1、正常使用 
        preg_replace(string,string,string);
    2、将正则中匹配到的子模式使用到第二个参数中
        preg_replace(string,&apos;\1\2&apos;,string);
    3、在第二个参数中调用函数，需要第一个参数正则表达式中使用e模式修正符            
        preg_replace(&apos;\这里是正则注意后面的e，保证了调用函数的成功\e&apos;,&apos;myfun(\2)&apos;,string);
    4、在前两个参数中都使用数组，可以一起将多个正则模式同时替换为对应字符串
        preg_replace_callback

3、字符串的分割函数

    explode();

    preg_split();

    implode();
</code></pre><p>日期和时间</p>
<pre><code>1、UNIX时间戳
    以32位整数表示格林威治标准时间
    这个整数是从1970年1月1日0时0分0秒到现在的秒数，1970年1月1日0时0分0秒被称为计算机元年
    最主要功能是方便计算使用
    因整数的范围，时间戳处理的时间范围为1907---2038年

2、在PHP中获取日期和时间
    time();
        获取UNIX时间戳
    getDate();
        返回数组
    getTimeOfDay();
    date_sunrise();
    date_sunset();

3、日期和时间的格式化输出
    date(string,[timestamp]);

    date(&quot;Y-m-d H:i:s&quot;,time());
    date(&quot;Y-m-d H:i:s&quot;);

4、将日期和时间转换为UNIX时间戳
    mktime(时,分,秒,月,日,年);

5、修改php默认市区
    修改php配置文件date.timezone=

    date_default_timezone_set(&quot;PRC&quot;);
    date_default_timezone_set(&quot;Asia/Shanghai&quot;);
    date_default_timezone_set(&quot;Gtc/GET-8&quot;);

6、使用微秒计算PHP脚本执行时间

    microtime(true);
</code></pre>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/PHP/" rel="tag"># PHP</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/12/30/Tool - IDM/" rel="next" title="">
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/12/31/PHP笔记/PHP - 编译后没有 php.ini 文件/" rel="prev" title="PHP - 编译后没有 php.ini 文件">
                PHP - 编译后没有 php.ini 文件 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">shenlin</p>
              <p class="site-description motion-element" itemprop="description">A Programmer's Blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">218</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">39</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">156</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#php语言标记"><span class="nav-number">1.</span> <span class="nav-text"><a href="#php&#x8BED;&#x8A00;&#x6807;&#x8BB0;" class="headerlink" title="php&#x8BED;&#x8A00;&#x6807;&#x8BB0;"></a>php&#x8BED;&#x8A00;&#x6807;&#x8BB0;</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#标准类型"><span class="nav-number">1.1.</span> <span class="nav-text"><a href="#&#x6807;&#x51C6;&#x7C7B;&#x578B;" class="headerlink" title="&#x6807;&#x51C6;&#x7C7B;&#x578B;"></a>&#x6807;&#x51C6;&#x7C7B;&#x578B;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#脚本类型"><span class="nav-number">1.2.</span> <span class="nav-text"><a href="#&#x811A;&#x672C;&#x7C7B;&#x578B;" class="headerlink" title="&#x811A;&#x672C;&#x7C7B;&#x578B;"></a>&#x811A;&#x672C;&#x7C7B;&#x578B;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#简短类型"><span class="nav-number">1.3.</span> <span class="nav-text"><a href="#&#x7B80;&#x77ED;&#x7C7B;&#x578B;" class="headerlink" title="&#x7B80;&#x77ED;&#x7C7B;&#x578B;"></a>&#x7B80;&#x77ED;&#x7C7B;&#x578B;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Asp类型"><span class="nav-number">1.4.</span> <span class="nav-text"><a href="#Asp&#x7C7B;&#x578B;" class="headerlink" title="Asp&#x7C7B;&#x578B;"></a>Asp&#x7C7B;&#x578B;</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指令分隔符：分号"><span class="nav-number">2.</span> <span class="nav-text"><a href="#&#x6307;&#x4EE4;&#x5206;&#x9694;&#x7B26;&#xFF1A;&#x5206;&#x53F7;" class="headerlink" title="&#x6307;&#x4EE4;&#x5206;&#x9694;&#x7B26;&#xFF1A;&#x5206;&#x53F7;"></a>&#x6307;&#x4EE4;&#x5206;&#x9694;&#x7B26;&#xFF1A;&#x5206;&#x53F7;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#程序注释"><span class="nav-number">3.</span> <span class="nav-text"><a href="#&#x7A0B;&#x5E8F;&#x6CE8;&#x91CA;" class="headerlink" title="&#x7A0B;&#x5E8F;&#x6CE8;&#x91CA;"></a>&#x7A0B;&#x5E8F;&#x6CE8;&#x91CA;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在程序中使用空白"><span class="nav-number">4.</span> <span class="nav-text"><a href="#&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x4F7F;&#x7528;&#x7A7A;&#x767D;" class="headerlink" title="&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x4F7F;&#x7528;&#x7A7A;&#x767D;"></a>&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x4F7F;&#x7528;&#x7A7A;&#x767D;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#语言结构和函数"><span class="nav-number">5.</span> <span class="nav-text"><a href="#&#x8BED;&#x8A00;&#x7ED3;&#x6784;&#x548C;&#x51FD;&#x6570;" class="headerlink" title="&#x8BED;&#x8A00;&#x7ED3;&#x6784;&#x548C;&#x51FD;&#x6570;"></a>&#x8BED;&#x8A00;&#x7ED3;&#x6784;&#x548C;&#x51FD;&#x6570;</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">shenlin</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
